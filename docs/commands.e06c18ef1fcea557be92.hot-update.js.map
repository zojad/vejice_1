{"version":3,"file":"commands.e06c18ef1fcea557be92.hot-update.js","mappings":"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","sources":["webpack://office-addin-taskpane-js/./src/logic/preveriVejice.js","webpack://office-addin-taskpane-js/webpack/runtime/getFullHash"],"sourcesContent":["/* global Word, window, process, performance, console, Office, URL */\r\nimport { popraviPoved, popraviPovedDetailed } from \"../api/apiVejice.js\";\r\nimport { isWordOnline } from \"../utils/host.js\";\r\nimport { CommaSuggestionEngine } from \"./engine/CommaSuggestionEngine.js\";\r\nimport { SyntheticAnchorProvider } from \"./anchoring/SyntheticAnchorProvider.js\";\r\nimport { LemmatizerAnchorProvider } from \"./anchoring/LemmatizerAnchorProvider.js\";\r\nimport { WordOnlineAdapter } from \"./adapters/wordOnlineAdapter.js\";\r\nimport { WordDesktopAdapter } from \"./adapters/wordDesktopAdapter.js\";\r\nimport { OnlineTextBridge } from \"./bridges/onlineTextBridge.js\";\r\nimport { DesktopTextBridge } from \"./bridges/desktopTextBridge.js\";\r\nimport {\r\n  normalizeParagraphWhitespace,\r\n  normalizeParagraphForEquality,\r\n  QUOTES,\r\n  charAtSafe,\r\n  isDigit,\r\n  makeAnchor,\r\n  normalizeTokenRepeatKey,\r\n} from \"./engine/textUtils.js\";\r\n\r\n/** \r\n *  DEBUG helpers (flip DEBUG=false to silence logs)\r\n *   */\r\nconst envIsProd = () =>\r\n  (typeof process !== \"undefined\" && process.env?.NODE_ENV === \"production\") ||\r\n  (typeof window !== \"undefined\" && window.__VEJICE_ENV__ === \"production\");\r\nconst DEBUG_OVERRIDE =\r\n  typeof window !== \"undefined\" && typeof window.__VEJICE_DEBUG__ === \"boolean\"\r\n    ? window.__VEJICE_DEBUG__\r\n    : undefined;\r\nconst DEBUG = typeof DEBUG_OVERRIDE === \"boolean\" ? DEBUG_OVERRIDE : !envIsProd();\r\nconst log = (...a) => DEBUG && console.log(\"[Vejice CHECK]\", ...a);\r\nconst warn = (...a) => DEBUG && console.warn(\"[Vejice CHECK]\", ...a);\r\nconst errL = (...a) => console.error(\"[Vejice CHECK]\", ...a);\r\nconst tnow = () => performance?.now?.() ?? Date.now();\r\nconst SNIP = (s, n = 80) => (typeof s === \"string\" ? s.slice(0, n) : s);\r\nconst MAX_AUTOFIX_PASSES =\r\n  typeof Office !== \"undefined\" && Office?.context?.platform === \"PC\" ? 3 : 2;\r\n\r\nconst HIGHLIGHT_INSERT = \"#FFF9C4\"; // light yellow\r\nconst HIGHLIGHT_DELETE = \"#FFCDD2\"; // light red\r\nconst TRAILING_COMMA_REGEX = /[,\\s]+$/;\r\nconst WORD_CHAR_REGEX = /[\\p{L}\\d]/u;\r\nconst MAX_NORMALIZATION_PROBES = 20;\r\n\r\nconst pendingSuggestionsOnline = [];\r\nconst PENDING_SUGGESTIONS_STORAGE_KEY = \"vejice.pendingSuggestionsOnline.v1\";\r\nconst MAX_PARAGRAPH_CHARS = 3000; //???\r\nconst LONG_PARAGRAPH_MESSAGE =\r\n  \"Odstavek je predolg za preverjanje. Razdelite ga na kraje povedi in poskusite znova.\";\r\nconst LONG_SENTENCE_MESSAGE =\r\n  \"Poved je predolga za preverjanje. Razdelite jo na kraje povedi in poskusite znova.\";\r\nconst CHUNK_API_ERROR_MESSAGE =\r\n  \"Nekatere povedi niso bile pregledane.\";\r\nconst PARAGRAPH_NON_COMMA_MESSAGE =\r\n  \"API je spremenil ve kot vejice. Preglejte odstavek.\";\r\nconst TRACKED_CHANGES_PRESENT_MESSAGE =\r\n  \"Najprej sprejmite ali zavrnite obstojee spremembe (Track Changes) in nato ponovno zaenite preverjanje.\";\r\nconst TRACK_CHANGES_REQUIRED_MESSAGE =\r\n  \"Vkljuite Sledenje spremembam (Track Changes) in poskusite znova.\";\r\nconst API_UNAVAILABLE_MESSAGE =\r\n  \"Storitev CJVT Vejice trenutno ni na voljo. Znova poskusite kasneje.\";\r\nconst NO_ISSUES_FOUND_MESSAGE = \"Ni bilo najdenih manjkajoih ali napanih vejic.\";\r\nlet longSentenceNotified = false;\r\nlet chunkApiFailureNotified = false;\r\nconst pendingScanNotifications = [];\r\nconst BOOLEAN_TRUE = new Set([\"1\", \"true\", \"yes\", \"on\"]);\r\nconst BOOLEAN_FALSE = new Set([\"0\", \"false\", \"no\", \"off\"]);\r\n\r\nfunction parseBooleanFlag(value) {\r\n  if (typeof value === \"boolean\") return value;\r\n  if (typeof value !== \"string\") return undefined;\r\n  const normalized = value.trim().toLowerCase();\r\n  if (!normalized) return undefined;\r\n  if (BOOLEAN_TRUE.has(normalized)) return true;\r\n  if (BOOLEAN_FALSE.has(normalized)) return false;\r\n  return undefined;\r\n}\r\n\r\nfunction shouldUseLemmatizerAnchors() {\r\n  if (typeof window !== \"undefined\") {\r\n    if (typeof window.__VEJICE_LEMMAS_URL === \"string\" && window.__VEJICE_LEMMAS_URL) {\r\n      log(\"Lemmas endpoint override via window:\", window.__VEJICE_LEMMAS_URL);\r\n    }\r\n    if (\r\n      typeof window.__VEJICE_LEMMAS_TIMEOUT_MS !== \"undefined\" &&\r\n      window.__VEJICE_LEMMAS_TIMEOUT_MS !== null\r\n    ) {\r\n      log(\"Lemmas timeout override via window:\", window.__VEJICE_LEMMAS_TIMEOUT_MS);\r\n    }\r\n    const override = parseBooleanFlag(window.__VEJICE_USE_LEMMATIZER__);\r\n    if (typeof override === \"boolean\") return override;\r\n  }\r\n  if (typeof process !== \"undefined\") {\r\n    const envValue =\r\n      parseBooleanFlag(process.env?.VEJICE_USE_LEMMATIZER) ??\r\n      parseBooleanFlag(process.env?.VEJICE_LEMMATIZER_ANCHORS);\r\n    if (typeof envValue === \"boolean\") return envValue;\r\n    if (process.env?.VEJICE_LEMMAS_URL) {\r\n      log(\"Lemmas endpoint override via env:\", process.env.VEJICE_LEMMAS_URL);\r\n    }\r\n    if (process.env?.VEJICE_LEMMAS_TIMEOUT_MS) {\r\n      log(\"Lemmas timeout override via env:\", process.env.VEJICE_LEMMAS_TIMEOUT_MS);\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction createAnchorProvider() {\r\n  if (shouldUseLemmatizerAnchors()) {\r\n    try {\r\n      log(\"Lemmatizer anchor provider enabled\");\r\n      return new LemmatizerAnchorProvider();\r\n    } catch (error) {\r\n      errL(\"Failed to initialize LemmatizerAnchorProvider, falling back to synthetic\", error);\r\n    }\r\n  }\r\n  return new SyntheticAnchorProvider();\r\n}\r\nfunction resetPendingSuggestionsOnline() {\r\n  pendingSuggestionsOnline.length = 0;\r\n  persistPendingSuggestionsOnline();\r\n}\r\nfunction addPendingSuggestionOnline(suggestion) {\r\n  pendingSuggestionsOnline.push(suggestion);\r\n  persistPendingSuggestionsOnline();\r\n}\r\nexport function getPendingSuggestionsOnline(debugSnapshot = false) {\r\n  if (!debugSnapshot) return pendingSuggestionsOnline;\r\n  return pendingSuggestionsOnline.map((sug) => ({\r\n    id: sug?.id,\r\n    kind: sug?.kind,\r\n    paragraphIndex: sug?.paragraphIndex,\r\n    meta: sug?.meta,\r\n    originalPos: sug?.originalPos,\r\n    snippets: sug?.snippets,\r\n  }));\r\n}\r\n\r\nfunction toSerializableSuggestion(suggestion) {\r\n  if (!suggestion || typeof suggestion !== \"object\") return null;\r\n  const serializable = {\r\n    id: suggestion.id,\r\n    kind: suggestion.kind,\r\n    paragraphIndex: suggestion.paragraphIndex,\r\n    charHint: suggestion.charHint,\r\n    snippets: suggestion.snippets,\r\n    meta: suggestion.meta,\r\n    originalPos: suggestion.originalPos,\r\n  };\r\n  return serializable;\r\n}\r\n\r\nfunction persistPendingSuggestionsOnline() {\r\n  if (typeof window === \"undefined\") return;\r\n  try {\r\n    const storage = window.localStorage;\r\n    if (!storage) return;\r\n    if (!pendingSuggestionsOnline.length) {\r\n      storage.removeItem(PENDING_SUGGESTIONS_STORAGE_KEY);\r\n      return;\r\n    }\r\n    const payload = pendingSuggestionsOnline\r\n      .map((sug) => toSerializableSuggestion(sug))\r\n      .filter(Boolean);\r\n    storage.setItem(PENDING_SUGGESTIONS_STORAGE_KEY, JSON.stringify(payload));\r\n  } catch (storageErr) {\r\n    warn(\"persistPendingSuggestionsOnline failed\", storageErr);\r\n  }\r\n}\r\n\r\nfunction restorePendingSuggestionsOnline() {\r\n  if (pendingSuggestionsOnline.length) return pendingSuggestionsOnline.length;\r\n  if (typeof window === \"undefined\") return 0;\r\n  try {\r\n    const storage = window.localStorage;\r\n    if (!storage) return 0;\r\n    const raw = storage.getItem(PENDING_SUGGESTIONS_STORAGE_KEY);\r\n    if (!raw) return 0;\r\n    const parsed = JSON.parse(raw);\r\n    if (!Array.isArray(parsed)) return 0;\r\n    for (const item of parsed) {\r\n      if (!item || typeof item !== \"object\") continue;\r\n      pendingSuggestionsOnline.push(item);\r\n    }\r\n    return pendingSuggestionsOnline.length;\r\n  } catch (storageErr) {\r\n    warn(\"restorePendingSuggestionsOnline failed\", storageErr);\r\n    return 0;\r\n  }\r\n}\r\n\r\nif (typeof window !== \"undefined\") {\r\n  if (!Array.isArray(window.__VEJICE_DEBUG_DUMPS__)) {\r\n    window.__VEJICE_DEBUG_DUMPS__ = [];\r\n  }\r\n  if (!(\"__VEJICE_LAST_DEBUG_DUMP__\" in window)) {\r\n    window.__VEJICE_LAST_DEBUG_DUMP__ = null;\r\n  }\r\n  window.__VEJICE_DEBUG_DUMP_READY__ = true;\r\n  window.__VEJICE_DEBUG_STATE__ = window.__VEJICE_DEBUG_STATE__ || {};\r\n  window.__VEJICE_DEBUG_STATE__.getPendingSuggestionsOnline = getPendingSuggestionsOnline;\r\n  window.__VEJICE_DEBUG_STATE__.getParagraphAnchorsOnline = () => anchorProvider.paragraphAnchors;\r\n  window.getVejiceDebugDump = () => window.__VEJICE_LAST_DEBUG_DUMP__ || null;\r\n  window.getVejiceDebugDumps = () =>\r\n    Array.isArray(window.__VEJICE_DEBUG_DUMPS__) ? [...window.__VEJICE_DEBUG_DUMPS__] : [];\r\n  window.getVejiceDebugStatus = () => ({\r\n    ready: Boolean(window.__VEJICE_DEBUG_DUMP_READY__),\r\n    debug: window.__VEJICE_DEBUG__,\r\n    dump: window.__VEJICE_DEBUG_DUMP__,\r\n    state: typeof window.__VEJICE_DEBUG_STATE__,\r\n    dumps: Array.isArray(window.__VEJICE_DEBUG_DUMPS__) ? window.__VEJICE_DEBUG_DUMPS__.length : 0,\r\n    hasLastDump: Boolean(window.__VEJICE_LAST_DEBUG_DUMP__),\r\n  });\r\n  window.getPendingSuggestionsOnline = getPendingSuggestionsOnline;\r\n  window.getPendingSuggestionsSnapshot = () => getPendingSuggestionsOnline(true);\r\n}\r\n\r\nlet toastDialog = null;\r\nfunction showToastNotification(message) {\r\n  if (!message) return;\r\n  if (typeof Office === \"undefined\" || !Office.context?.ui?.displayDialogAsync) {\r\n    warn(\"Toast notification unavailable\", message);\r\n    return;\r\n  }\r\n  const origin =\r\n    (typeof window !== \"undefined\" && window.location && window.location.origin) || null;\r\n  if (!origin) {\r\n    warn(\"Toast notification: origin unavailable\");\r\n    return;\r\n  }\r\n  const toastUrl = new URL(\"toast.html\", origin);\r\n  toastUrl.searchParams.set(\"message\", message);\r\n  Office.context.ui.displayDialogAsync(\r\n    toastUrl.toString(),\r\n    { height: 20, width: 30, displayInIframe: true },\r\n    (asyncResult) => {\r\n      if (asyncResult.status !== Office.AsyncResultStatus.Succeeded) {\r\n        warn(\"Toast notification failed\", asyncResult.error);\r\n        return;\r\n      }\r\n      if (toastDialog) {\r\n        try {\r\n          toastDialog.close();\r\n        } catch (err) {\r\n          warn(\"Toast notification: failed to close previous dialog\", err);\r\n        }\r\n      }\r\n      toastDialog = asyncResult.value;\r\n      const closeDialog = () => {\r\n        if (!toastDialog) return;\r\n        try {\r\n          toastDialog.close();\r\n        } catch (err) {\r\n          warn(\"Toast notification: failed to close dialog\", err);\r\n        } finally {\r\n          toastDialog = null;\r\n        }\r\n      };\r\n      toastDialog.addEventHandler(Office.EventType.DialogMessageReceived, closeDialog);\r\n      toastDialog.addEventHandler(Office.EventType.DialogEventReceived, closeDialog);\r\n    }\r\n  );\r\n}\r\n\r\nfunction queueScanNotification(message) {\r\n  if (!message) return;\r\n  pendingScanNotifications.push(message);\r\n}\r\n\r\nfunction flushScanNotifications() {\r\n  if (!pendingScanNotifications.length) return;\r\n  const seen = new Set();\r\n  const uniqueMessages = [];\r\n  for (const message of pendingScanNotifications) {\r\n    if (!message || seen.has(message)) continue;\r\n    seen.add(message);\r\n    uniqueMessages.push(message);\r\n  }\r\n  pendingScanNotifications.length = 0;\r\n  if (!uniqueMessages.length) return;\r\n  showToastNotification(uniqueMessages.join(\"\\n\"));\r\n}\r\nfunction notifyParagraphTooLong(paragraphIndex, length) {\r\n  const label = paragraphIndex + 1;\r\n  const msg = `Odstavek ${label}: ${LONG_PARAGRAPH_MESSAGE} (${length} znakov).`;\r\n  warn(\"Paragraph too long  skipped\", { paragraphIndex, length });\r\n  queueScanNotification(msg);\r\n}\r\n\r\nfunction notifySentenceTooLong(paragraphIndex, length) {\r\n  const label = paragraphIndex + 1;\r\n  const msg = `Odstavek ${label}: ${LONG_SENTENCE_MESSAGE} (${length} znakov).`;\r\n  warn(\"Sentence too long  skipped\", { paragraphIndex, length });\r\n  if (longSentenceNotified) return;\r\n  longSentenceNotified = true;\r\n  queueScanNotification(msg);\r\n}\r\n\r\nfunction notifyChunkApiFailure(paragraphIndex, chunkIndex) {\r\n  warn(\"Sentence skipped due to API error\", { paragraphIndex, chunkIndex });\r\n  if (chunkApiFailureNotified) return;\r\n  chunkApiFailureNotified = true;\r\n  queueScanNotification(CHUNK_API_ERROR_MESSAGE);\r\n}\r\n\r\nfunction notifyChunkNonCommaChanges(paragraphIndex, chunkIndex, original, corrected) {\r\n  warn(\"Sentence skipped due to non-comma changes\", { paragraphIndex, chunkIndex, original, corrected });\r\n  if (chunkApiFailureNotified) return;\r\n  chunkApiFailureNotified = true;\r\n  queueScanNotification(CHUNK_API_ERROR_MESSAGE);\r\n}\r\n\r\nconst anchorProvider = createAnchorProvider();\r\nconst anchorProviderSupportsCharHints =\r\n  typeof anchorProvider.supportsCharHints === \"function\" ? anchorProvider.supportsCharHints() : false;\r\nif (anchorProviderSupportsCharHints) {\r\n  log(\"Anchor provider supports char hints; snippet fallback cleanup disabled\");\r\n}\r\nconst commaEngine = new CommaSuggestionEngine({\r\n  anchorProvider,\r\n  apiClient: {\r\n    popraviPoved,\r\n    popraviPovedDetailed,\r\n  },\r\n  notifiers: {\r\n    onParagraphTooLong: notifyParagraphTooLong,\r\n    onSentenceTooLong: notifySentenceTooLong,\r\n    onChunkApiFailure: notifyChunkApiFailure,\r\n    onChunkNonCommaChanges: notifyChunkNonCommaChanges,\r\n  },\r\n});\r\nif (typeof window !== \"undefined\") {\r\n  window.__VEJICE_DEBUG_STATE__ = window.__VEJICE_DEBUG_STATE__ || {};\r\n  window.__VEJICE_DEBUG_STATE__.getEngineDebugDump = () => commaEngine.lastDebugDump || null;\r\n  window.__VEJICE_DEBUG_STATE__.getEngineDebugDumps = () =>\r\n    Array.isArray(commaEngine.debugDumps) ? [...commaEngine.debugDumps] : [];\r\n  window.getVejiceDebugDump = () => commaEngine.lastDebugDump || window.__VEJICE_LAST_DEBUG_DUMP__ || null;\r\n  window.getVejiceDebugDumps = () => {\r\n    if (Array.isArray(commaEngine.debugDumps) && commaEngine.debugDumps.length) {\r\n      return [...commaEngine.debugDumps];\r\n    }\r\n    return Array.isArray(window.__VEJICE_DEBUG_DUMPS__) ? [...window.__VEJICE_DEBUG_DUMPS__] : [];\r\n  };\r\n}\r\n\r\nconst onlineTextBridge = new OnlineTextBridge({\r\n  applyInsertSuggestion,\r\n  applyDeleteSuggestion,\r\n});\r\n\r\nconst desktopTextBridge = new DesktopTextBridge({\r\n  applyInsertSuggestion,\r\n  applyDeleteSuggestion,\r\n});\r\n\r\nlet normalizationProbeCount = 0;\r\n\r\nfunction getActiveTextBridge() {\r\n  return isWordOnline() ? onlineTextBridge : desktopTextBridge;\r\n}\r\n\r\nfunction getNormalizationProfile() {\r\n  return getActiveTextBridge().getNormalizationProfile();\r\n}\r\n\r\nconst wordOnlineAdapter = new WordOnlineAdapter({\r\n  highlightSuggestion: highlightSuggestionOnline,\r\n  textBridge: onlineTextBridge,\r\n  clearSuggestionMarkers: clearOnlineSuggestionMarkers,\r\n});\r\n\r\nconst wordDesktopAdapter = new WordDesktopAdapter({\r\n  textBridge: desktopTextBridge,\r\n  trace: (...a) => log(...a),\r\n});\r\n\r\nfunction notifyParagraphNonCommaChanges(paragraphIndex, original, corrected) {\r\n  const label = paragraphIndex + 1;\r\n  warn(\"Paragraph skipped due to non-comma changes\", { paragraphIndex, original, corrected });\r\n  queueScanNotification(`Odstavek ${label}: ${PARAGRAPH_NON_COMMA_MESSAGE}`);\r\n}\r\n\r\nfunction notifyTrackedChangesPresent() {\r\n  warn(\"Tracked changes present  aborting check\");\r\n  queueScanNotification(TRACKED_CHANGES_PRESENT_MESSAGE);\r\n}\r\n\r\nfunction notifyTrackChangesRequired() {\r\n  warn(\"Track changes disabled  aborting check\");\r\n  queueScanNotification(TRACK_CHANGES_REQUIRED_MESSAGE);\r\n}\r\n\r\nlet apiFailureNotified = false;\r\nfunction notifyApiUnavailable() {\r\n  if (apiFailureNotified) return;\r\n  apiFailureNotified = true;\r\n  warn(\"API unavailable  notifying toast\");\r\n  queueScanNotification(API_UNAVAILABLE_MESSAGE);\r\n}\r\n\r\nfunction notifyNoIssuesFound() {\r\n  log(\"No comma issues found  notifying toast\");\r\n  queueScanNotification(NO_ISSUES_FOUND_MESSAGE);\r\n}\r\n\r\nfunction resetNotificationFlags() {\r\n  apiFailureNotified = false;\r\n  longSentenceNotified = false;\r\n  chunkApiFailureNotified = false;\r\n  pendingScanNotifications.length = 0;\r\n}\r\n\r\nasync function documentHasTrackedChanges(context) {\r\n  if (!context?.document) return false;\r\n  if (isWordOnline()) {\r\n    // Word Online does not expose revisions; assume no tracked changes to avoid ApiNotFound.\r\n    return false;\r\n  }\r\n  const revisions = context.document.revisions;\r\n  if (!revisions || typeof revisions.load !== \"function\") {\r\n    return false;\r\n  }\r\n  try {\r\n    log(\"Desktop phase: revisions.load(items) -> sync:start\");\r\n    revisions.load(\"items\");\r\n    await context.sync();\r\n    log(\"Desktop phase: revisions.load(items) -> sync:done\", revisions.items.length);\r\n    return revisions.items.length > 0;\r\n  } catch (err) {\r\n    if (err?.code === \"ApiNotFound\") {\r\n      warn(\"Revisions API unavailable on this host  skipping tracked changes guard\");\r\n      return false;\r\n    }\r\n    throw err;\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction countSnippetOccurrencesBefore(text, snippet, limit) {\r\n  if (!snippet) return 0;\r\n  const safeText = typeof text === \"string\" ? text : \"\";\r\n  const hop = Math.max(1, snippet.length);\r\n  let count = 0;\r\n  let idx = safeText.indexOf(snippet);\r\n  while (idx !== -1 && idx < limit) {\r\n    count++;\r\n    idx = safeText.indexOf(snippet, idx + hop);\r\n  }\r\n  return count;\r\n}\r\n\r\nfunction canonicalizeWithBoundaryMap(text, profile = getNormalizationProfile()) {\r\n  const source = typeof text === \"string\" ? text : \"\";\r\n  let canonical = \"\";\r\n  const boundary = new Array(source.length + 1).fill(0);\r\n  let prevWasSpace = false;\r\n\r\n  const normalizeChar = (ch) => {\r\n    if (profile?.normalizeQuotes) {\r\n      if (\"\\\"\".includes(ch)) return \"\\\"\";\r\n      if (\"'`\".includes(ch)) return \"'\";\r\n    }\r\n    if (profile?.normalizeDashes && \"\".includes(ch)) {\r\n      return \"-\";\r\n    }\r\n    if (profile?.normalizeEllipsis && ch === \"\") {\r\n      return \"...\";\r\n    }\r\n    return ch;\r\n  };\r\n\r\n  for (let i = 0; i < source.length; i++) {\r\n    const ch = source[i];\r\n    const isSpace = /[\\s\\u00A0\\u202F\\u2007]/.test(ch);\r\n    if (isSpace) {\r\n      if (profile?.collapseWhitespace !== false) {\r\n        if (!prevWasSpace) {\r\n          canonical += \" \";\r\n          prevWasSpace = true;\r\n        }\r\n      } else {\r\n        canonical += ch;\r\n        prevWasSpace = false;\r\n      }\r\n    } else {\r\n      canonical += normalizeChar(ch);\r\n      prevWasSpace = false;\r\n    }\r\n    boundary[i + 1] = canonical.length;\r\n  }\r\n\r\n  return { canonical, boundary };\r\n}\r\n\r\nfunction logNormalizationProbe(sourceText, targetText, sourceIndex, profile) {\r\n  if (!DEBUG || normalizationProbeCount >= MAX_NORMALIZATION_PROBES) return;\r\n  normalizationProbeCount++;\r\n  const idx = Math.max(0, Math.floor(sourceIndex || 0));\r\n  const left = Math.max(0, idx - 18);\r\n  const right = Math.min((sourceText || \"\").length, idx + 18);\r\n  const targetLeft = Math.max(0, idx - 18);\r\n  const targetRight = Math.min((targetText || \"\").length, idx + 18);\r\n  warn(\"normalization probe: prefix mismatch\", {\r\n    profile,\r\n    sourceIndex: idx,\r\n    sourceSnippet: (sourceText || \"\").slice(left, right),\r\n    targetSnippet: (targetText || \"\").slice(targetLeft, targetRight),\r\n  });\r\n}\r\n\r\nfunction mapIndexAcrossCanonical(sourceText, targetText, sourceIndex, profile = getNormalizationProfile()) {\r\n  if (!Number.isFinite(sourceIndex) || sourceIndex < 0) return 0;\r\n  const src = canonicalizeWithBoundaryMap(sourceText, profile);\r\n  const dst = canonicalizeWithBoundaryMap(targetText, profile);\r\n  if (!src.canonical.length || !dst.canonical.length) return 0;\r\n\r\n  const safeSrcIndex = Math.max(0, Math.min(Math.floor(sourceIndex), sourceText.length));\r\n  const srcCanonicalPos = src.boundary[safeSrcIndex] ?? 0;\r\n  const srcPrefix = src.canonical.slice(0, srcCanonicalPos);\r\n\r\n  const directPos = dst.canonical.startsWith(srcPrefix) ? srcCanonicalPos : -1;\r\n  if (directPos < 0) {\r\n    logNormalizationProbe(sourceText, targetText, sourceIndex, profile);\r\n  }\r\n  const estimatePos =\r\n    src.canonical.length > 0\r\n      ? Math.round((srcCanonicalPos / src.canonical.length) * dst.canonical.length)\r\n      : srcCanonicalPos;\r\n  const findBestFallbackPos = () => {\r\n    const leftCtx = src.canonical.slice(Math.max(0, srcCanonicalPos - 20), srcCanonicalPos);\r\n    const rightCtx = src.canonical.slice(srcCanonicalPos, Math.min(src.canonical.length, srcCanonicalPos + 20));\r\n    if (!leftCtx && !rightCtx) return Math.min(Math.max(0, estimatePos), dst.canonical.length);\r\n\r\n    const candidates = [];\r\n    if (leftCtx) {\r\n      let idx = dst.canonical.indexOf(leftCtx);\r\n      while (idx !== -1) {\r\n        candidates.push(idx + leftCtx.length);\r\n        idx = dst.canonical.indexOf(leftCtx, idx + 1);\r\n      }\r\n    } else if (rightCtx) {\r\n      let idx = dst.canonical.indexOf(rightCtx);\r\n      while (idx !== -1) {\r\n        candidates.push(idx);\r\n        idx = dst.canonical.indexOf(rightCtx, idx + 1);\r\n      }\r\n    }\r\n    if (!candidates.length) return Math.min(Math.max(0, estimatePos), dst.canonical.length);\r\n\r\n    let bestPos = candidates[0];\r\n    let bestScore = Number.POSITIVE_INFINITY;\r\n    for (const pos of candidates) {\r\n      const dstRight = dst.canonical.slice(pos, Math.min(dst.canonical.length, pos + rightCtx.length));\r\n      let mismatch = 0;\r\n      const overlap = Math.min(dstRight.length, rightCtx.length);\r\n      for (let i = 0; i < overlap; i++) {\r\n        if (dstRight[i] !== rightCtx[i]) mismatch++;\r\n      }\r\n      mismatch += Math.abs(rightCtx.length - dstRight.length);\r\n      const distance = Math.abs(pos - estimatePos);\r\n      const score = mismatch * 3 + distance;\r\n      if (score < bestScore) {\r\n        bestScore = score;\r\n        bestPos = pos;\r\n      }\r\n    }\r\n    return Math.min(Math.max(0, bestPos), dst.canonical.length);\r\n  };\r\n  const targetCanonicalPos =\r\n    directPos >= 0\r\n      ? Math.min(directPos, dst.canonical.length)\r\n      : findBestFallbackPos();\r\n\r\n  if (targetCanonicalPos <= 0) return 0;\r\n\r\n  let low = 0;\r\n  let high = targetText.length;\r\n  while (low < high) {\r\n    const mid = Math.floor((low + high) / 2);\r\n    if ((dst.boundary[mid] ?? 0) < targetCanonicalPos) {\r\n      low = mid + 1;\r\n    } else {\r\n      high = mid;\r\n    }\r\n  }\r\n  return Math.max(0, Math.min(low, targetText.length));\r\n}\r\n\r\nasync function getRangeForCharacterSpan(\r\n  context,\r\n  paragraph,\r\n  paragraphText,\r\n  charStart,\r\n  charEnd,\r\n  reason = \"span\",\r\n  fallbackSnippet\r\n) {\r\n  if (!paragraph || typeof paragraph.getRange !== \"function\") return null;\r\n  if (!Number.isFinite(charStart) || charStart < 0) return null;\r\n  const text = typeof paragraphText === \"string\" ? paragraphText : paragraph.text || \"\";\r\n  if (!text) return null;\r\n  const safeStart = Math.max(0, Math.min(Math.floor(charStart), text.length ? text.length - 1 : 0));\r\n  const computedEnd = Math.max(safeStart + 1, Math.floor(charEnd ?? safeStart + 1));\r\n  const safeEnd = Math.min(computedEnd, text.length);\r\n  let snippet = text.slice(safeStart, safeEnd);\r\n  if (!snippet && typeof fallbackSnippet === \"string\" && fallbackSnippet.length) {\r\n    snippet = fallbackSnippet;\r\n  }\r\n  if (!snippet) return null;\r\n\r\n  try {\r\n    if (typeof paragraph.text !== \"string\") {\r\n      paragraph.load(\"text\");\r\n      await context.sync();\r\n    }\r\n    const liveText = typeof paragraph.text === \"string\" ? paragraph.text : text;\r\n    let searchSnippet = snippet;\r\n    let matches = await searchParagraphForSnippet(context, paragraph, searchSnippet);\r\n    if ((!matches?.items?.length) && snippet.trim() && snippet.trim() !== snippet) {\r\n      searchSnippet = snippet.trim();\r\n      matches = await searchParagraphForSnippet(context, paragraph, searchSnippet);\r\n    }\r\n    if (!matches?.items?.length) {\r\n      warn(`getRangeForCharacterSpan(${reason}): snippet not found`, { snippet, safeStart });\r\n      return null;\r\n    }\r\n    const mappedStart = mapIndexAcrossCanonical(text, liveText, safeStart);\r\n    const occurrence = countSnippetOccurrencesBefore(liveText, searchSnippet, mappedStart);\r\n    const idx = Math.min(occurrence, matches.items.length - 1);\r\n    return matches.items[idx];\r\n  } catch (err) {\r\n    warn(`getRangeForCharacterSpan(${reason}) failed`, err);\r\n  }\r\n  return null;\r\n}\r\n\r\nasync function getRangeForAnchorSpan(\r\n  context,\r\n  paragraph,\r\n  anchorsEntry,\r\n  charStart,\r\n  charEnd,\r\n  reason = \"span\",\r\n  fallbackSnippet\r\n) {\r\n  const candidates = [];\r\n  if (anchorsEntry?.originalText) {\r\n    candidates.push({ text: anchorsEntry.originalText, label: \"orig\" });\r\n  }\r\n  const liveText = paragraph?.text;\r\n  if (liveText && (!candidates.length || liveText !== candidates[0].text)) {\r\n    candidates.push({ text: liveText, label: \"live\" });\r\n  }\r\n  if (!candidates.length) {\r\n    candidates.push({ text: \"\", label: \"empty\" });\r\n  }\r\n\r\n  for (const candidate of candidates) {\r\n    if (!candidate.text) continue;\r\n    const range = await getRangeForCharacterSpan(\r\n      context,\r\n      paragraph,\r\n      candidate.text,\r\n      charStart,\r\n      charEnd,\r\n      `${reason}-${candidate.label}`,\r\n      fallbackSnippet\r\n    );\r\n    if (range) {\r\n      return range;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nasync function searchParagraphForSnippet(context, paragraph, snippet) {\r\n  const range = paragraph.getRange();\r\n  const matches = range.search(snippet, {\r\n    matchCase: true,\r\n    matchWholeWord: false,\r\n    ignoreSpace: false,\r\n    ignorePunct: false,\r\n  });\r\n  matches.load(\"items\");\r\n  await context.sync();\r\n  return matches;\r\n}\r\n\r\nasync function getRangesForPlannedOperations(context, paragraph, snapshotText, plan, reason = \"apply-planned\") {\r\n  if (!Array.isArray(plan) || !plan.length) return [];\r\n  if (!paragraph || typeof paragraph.getRange !== \"function\") {\r\n    return plan.map(() => null);\r\n  }\r\n  if (typeof paragraph.text !== \"string\") {\r\n    paragraph.load(\"text\");\r\n    await context.sync();\r\n  }\r\n\r\n  const text = typeof snapshotText === \"string\" ? snapshotText : paragraph.text || \"\";\r\n  const liveText = typeof paragraph.text === \"string\" ? paragraph.text : text;\r\n  const searchOptions = {\r\n    matchCase: true,\r\n    matchWholeWord: false,\r\n    ignoreSpace: false,\r\n    ignorePunct: false,\r\n  };\r\n\r\n  const requests = [];\r\n  const searchCache = new Map();\r\n  const perOpVariants = plan.map((op, opIndex) => {\r\n    const safeStart = Math.max(0, Math.min(Math.floor(op.start ?? 0), Math.max(0, text.length - 1)));\r\n    const computedEnd = Math.max(safeStart + 1, Math.floor(op.end ?? safeStart + 1));\r\n    const safeEnd = Math.min(computedEnd, text.length);\r\n    let snippet = text.slice(safeStart, safeEnd);\r\n    if (!snippet && typeof op?.snippet === \"string\" && op.snippet.length) {\r\n      snippet = op.snippet;\r\n    }\r\n    if (!snippet) return [];\r\n\r\n    const variants = [];\r\n    variants.push({ text: snippet, safeStart });\r\n    const trimmed = snippet.trim();\r\n    if (trimmed && trimmed !== snippet) {\r\n      variants.push({ text: trimmed, safeStart });\r\n    }\r\n\r\n    const unique = [];\r\n    const seen = new Set();\r\n    for (const variant of variants) {\r\n      if (seen.has(variant.text)) continue;\r\n      seen.add(variant.text);\r\n      let matches = searchCache.get(variant.text);\r\n      if (!matches) {\r\n        matches = paragraph.getRange().search(variant.text, searchOptions);\r\n        matches.load(\"items\");\r\n        searchCache.set(variant.text, matches);\r\n        requests.push({ matches, text: variant.text, safeStart, opIndex });\r\n      }\r\n      unique.push({ text: variant.text, safeStart, matches });\r\n    }\r\n    return unique;\r\n  });\r\n\r\n  if (requests.length) {\r\n    await context.sync();\r\n  }\r\n\r\n  return plan.map((op, opIndex) => {\r\n    const variants = perOpVariants[opIndex] || [];\r\n    if (!variants.length) return null;\r\n\r\n    for (const variant of variants) {\r\n      const items = variant.matches?.items || [];\r\n      if (!items.length) continue;\r\n      const mappedStart = mapIndexAcrossCanonical(text, liveText, variant.safeStart);\r\n      const occurrence = countSnippetOccurrencesBefore(liveText, variant.text, mappedStart);\r\n      const idx = Math.min(occurrence, items.length - 1);\r\n      return items[idx];\r\n    }\r\n\r\n    const fallback = variants[0];\r\n    warn(`getRangesForPlannedOperations(${reason}): snippet not found`, {\r\n      snippet: fallback?.text,\r\n      safeStart: fallback?.safeStart,\r\n    });\r\n    return null;\r\n  });\r\n}\r\n\r\nfunction buildDeleteSuggestionMetadata(entry, charIndex) {\r\n  const sourceAround = findAnchorsNearChar(entry, \"source\", charIndex);\r\n  const documentOffset = entry?.documentOffset ?? 0;\r\n  const charStart = Math.max(0, charIndex);\r\n  const charEnd = charStart + 1;\r\n  const paragraphText = entry?.originalText ?? \"\";\r\n  const highlightText = paragraphText.slice(charStart, charEnd) || \",\";\r\n  return {\r\n    kind: \"delete\",\r\n    paragraphIndex: entry?.paragraphIndex ?? -1,\r\n    charStart,\r\n    charEnd,\r\n    documentCharStart: documentOffset + charStart,\r\n    documentCharEnd: documentOffset + charEnd,\r\n    sourceTokenBefore: snapshotAnchor(sourceAround.before),\r\n    sourceTokenAt: snapshotAnchor(sourceAround.at),\r\n    sourceTokenAfter: snapshotAnchor(sourceAround.after),\r\n    highlightText,\r\n  };\r\n}\r\n\r\nfunction buildInsertSuggestionMetadata(entry, { originalCharIndex, targetCharIndex }) {\r\n  const srcIndex = typeof originalCharIndex === \"number\" ? originalCharIndex : -1;\r\n  const targetIndex = typeof targetCharIndex === \"number\" ? targetCharIndex : srcIndex;\r\n  const sourceAround = findAnchorsNearChar(entry, \"source\", srcIndex);\r\n  const targetAround = findAnchorsNearChar(entry, \"target\", targetIndex);\r\n  const documentOffset = entry?.documentOffset ?? 0;\r\n  const highlightAnchor =\r\n    sourceAround.at ??\r\n    sourceAround.before ??\r\n    sourceAround.after ??\r\n    targetAround.at ??\r\n    targetAround.before ??\r\n    targetAround.after;\r\n  const highlightCharStart = highlightAnchor?.charStart ?? srcIndex;\r\n  const highlightCharEnd = highlightAnchor?.charEnd ?? srcIndex;\r\n  const paragraphText = entry?.originalText ?? \"\";\r\n  let highlightText = \"\";\r\n  if (highlightCharStart >= 0 && highlightCharEnd > highlightCharStart) {\r\n    highlightText = paragraphText.slice(highlightCharStart, highlightCharEnd);\r\n  }\r\n  if (!highlightText && highlightCharStart >= 0) {\r\n    highlightText = paragraphText.slice(highlightCharStart, highlightCharStart + 1);\r\n  }\r\n\r\n  return {\r\n    kind: \"insert\",\r\n    paragraphIndex: entry?.paragraphIndex ?? -1,\r\n    targetCharStart: targetIndex,\r\n    targetCharEnd: targetIndex >= 0 ? targetIndex + 1 : targetIndex,\r\n    targetDocumentCharStart: targetIndex >= 0 ? documentOffset + targetIndex : targetIndex,\r\n    targetDocumentCharEnd: targetIndex >= 0 ? documentOffset + targetIndex + 1 : targetIndex,\r\n    highlightCharStart,\r\n    highlightCharEnd,\r\n    highlightText,\r\n    sourceTokenBefore: snapshotAnchor(sourceAround.before),\r\n    sourceTokenAt: snapshotAnchor(sourceAround.at),\r\n    sourceTokenAfter: snapshotAnchor(sourceAround.after),\r\n    targetTokenBefore: snapshotAnchor(targetAround.before),\r\n    targetTokenAt: snapshotAnchor(targetAround.at),\r\n    targetTokenAfter: snapshotAnchor(targetAround.after),\r\n    highlightAnchorTarget: snapshotAnchor(highlightAnchor),\r\n  };\r\n}\r\n\r\nfunction buildDeleteRangeCandidates(suggestion) {\r\n  const ranges = [];\r\n  const meta = suggestion?.meta?.anchor;\r\n  if (!meta) return ranges;\r\n  const addRange = (start, end, snippet) => {\r\n    if (!Number.isFinite(start) || start < 0) return;\r\n    const safeEnd = Number.isFinite(end) && end > start ? end : start + 1;\r\n    ranges.push({ start, end: safeEnd, snippet });\r\n  };\r\n  addRange(meta.highlightCharStart, meta.highlightCharEnd, meta.highlightText);\r\n  addRange(meta.charStart, meta.charEnd, meta.highlightText);\r\n  if (meta.highlightAnchorTarget) {\r\n    addRange(\r\n      meta.highlightAnchorTarget.charStart,\r\n      meta.highlightAnchorTarget.charEnd,\r\n      meta.highlightAnchorTarget.tokenText\r\n    );\r\n  }\r\n  const charHint = suggestion?.charHint;\r\n  addRange(charHint?.start, charHint?.end, meta.highlightText);\r\n  return ranges;\r\n}\r\n\r\nfunction buildInsertRangeCandidates(suggestion) {\r\n  const ranges = [];\r\n  const meta = suggestion?.meta?.anchor;\r\n  if (!meta) return ranges;\r\n  const addRange = (start, end, snippet) => {\r\n    if (!Number.isFinite(start) || start < 0) return;\r\n    const safeEnd = Number.isFinite(end) && end > start ? end : start + 1;\r\n    ranges.push({ start, end: safeEnd, snippet });\r\n  };\r\n  const addAnchor = (anchor) => {\r\n    if (!anchor) return;\r\n    addRange(anchor.charStart, anchor.charEnd, anchor.tokenText);\r\n  };\r\n  addRange(meta.highlightCharStart, meta.highlightCharEnd, meta.highlightText);\r\n  addRange(meta.targetCharStart, meta.targetCharEnd, meta.highlightText);\r\n  addRange(meta.charStart, meta.charEnd, meta.highlightText);\r\n  const charHint = suggestion?.charHint;\r\n  addRange(charHint?.start, charHint?.end, meta.highlightText);\r\n  addAnchor(meta.highlightAnchorTarget);\r\n  addAnchor(meta.sourceTokenAt);\r\n  addAnchor(meta.targetTokenAt);\r\n  addAnchor(meta.sourceTokenBefore);\r\n  addAnchor(meta.targetTokenBefore);\r\n  return ranges;\r\n}\r\n\r\n// Vstavi vejico na podlagi sidra\r\nasync function insertCommaAt(context, paragraph, original, corrected, atCorrectedPos) {\r\n  const { left, right } = makeAnchor(corrected, atCorrectedPos);\r\n  const pr = paragraph.getRange();\r\n\r\n  if (left.length > 0) {\r\n    const m = pr.search(left, { matchCase: false, matchWholeWord: false });\r\n    m.load(\"items\");\r\n    await context.sync();\r\n    if (!m.items.length) {\r\n      warn(\"insert: left anchor not found\");\r\n      return;\r\n    }\r\n    const after = m.items[0].getRange(\"After\");\r\n    after.insertText(\",\", Word.InsertLocation.before);\r\n  } else {\r\n    if (!right) {\r\n      warn(\"insert: no right anchor at paragraph start\");\r\n      return;\r\n    }\r\n    const m = pr.search(right, { matchCase: false, matchWholeWord: false });\r\n    m.load(\"items\");\r\n    await context.sync();\r\n    if (!m.items.length) {\r\n      warn(\"insert: right anchor not found\");\r\n      return;\r\n    }\r\n    const before = m.items[0].getRange(\"Before\");\r\n    before.insertText(\",\", Word.InsertLocation.before);\r\n  }\r\n}\r\n\r\n// Po potrebi dodaj presledek po vejici (razen pred narekovaji ali tevkami)\r\nasync function ensureSpaceAfterComma(context, paragraph, corrected, atCorrectedPos) {\r\n  const next = charAtSafe(corrected, atCorrectedPos + 1);\r\n  if (!next || /\\s/.test(next) || QUOTES.has(next) || isDigit(next)) return;\r\n\r\n  const { left, right } = makeAnchor(corrected, atCorrectedPos + 1);\r\n  const pr = paragraph.getRange();\r\n\r\n  if (left.length > 0) {\r\n    const m = pr.search(left, { matchCase: false, matchWholeWord: false });\r\n    m.load(\"items\");\r\n    await context.sync();\r\n    if (!m.items.length) {\r\n      warn(\"space-after: left anchor not found\");\r\n      return;\r\n    }\r\n    const beforeRight = m.items[0].getRange(\"Before\");\r\n    beforeRight.insertText(\" \", Word.InsertLocation.before);\r\n  } else if (right.length > 0) {\r\n    const m = pr.search(right, { matchCase: false, matchWholeWord: false });\r\n    m.load(\"items\");\r\n    await context.sync();\r\n    if (!m.items.length) {\r\n      warn(\"space-after: right anchor not found\");\r\n      return;\r\n    }\r\n    const before = m.items[0].getRange(\"Before\");\r\n    before.insertText(\" \", Word.InsertLocation.before);\r\n  }\r\n}\r\n\r\n// Brii samo znak vejice\r\nasync function deleteCommaAt(context, paragraph, original, atOriginalPos) {\r\n  const pr = paragraph.getRange();\r\n  let ordinal = 0;\r\n  for (let i = 0; i <= atOriginalPos && i < original.length; i++) {\r\n    if (original[i] === \",\") ordinal++;\r\n  }\r\n  if (ordinal === 0) {\r\n    warn(\"delete: no comma found in original at pos\", atOriginalPos);\r\n    return;\r\n  }\r\n  const matches = pr.search(\",\", { matchCase: false, matchWholeWord: false });\r\n  matches.load(\"items\");\r\n  await context.sync();\r\n  const idx = ordinal - 1;\r\n  if (idx >= matches.items.length) {\r\n    warn(\"delete: comma ordinal out of range\", ordinal, \"/\", matches.items.length);\r\n    return;\r\n  }\r\n  matches.items[idx].insertText(\"\", Word.InsertLocation.replace);\r\n}\r\n\r\nasync function highlightSuggestionOnline(context, paragraph, suggestion) {\r\n  if (!suggestion) return false;\r\n  if (suggestion.kind === \"delete\") {\r\n    return highlightDeleteSuggestion(context, paragraph, suggestion);\r\n  }\r\n  return highlightInsertSuggestion(context, paragraph, suggestion);\r\n}\r\n\r\nfunction countCommasUpTo(text, pos) {\r\n  let count = 0;\r\n  for (let i = 0; i <= pos && i < text.length; i++) {\r\n    if (text[i] === \",\") count++;\r\n  }\r\n  return count;\r\n}\r\n\r\nasync function highlightDeleteSuggestion(context, paragraph, suggestion) {\r\n  const paragraphText = suggestion.meta?.originalText ?? paragraph.text ?? \"\";\r\n  const meta = suggestion.meta?.anchor || {};\r\n  const entry = anchorProvider.getAnchorsForParagraph(suggestion.paragraphIndex);\r\n  const charStart =\r\n    suggestion.charHint?.start ?? meta.charStart ?? suggestion.meta?.op?.originalPos ?? -1;\r\n  const charEnd =\r\n    suggestion.charHint?.end ??\r\n    meta.charEnd ??\r\n    (typeof charStart === \"number\" && charStart >= 0 ? charStart + 1 : charStart);\r\n  const highlightText = meta.highlightText ?? suggestion.meta?.highlightText ?? \",\";\r\n  let targetRange = null;\r\n\r\n  if (Number.isFinite(charStart) && charStart >= 0) {\r\n    targetRange = await getRangeForAnchorSpan(\r\n      context,\r\n      paragraph,\r\n      entry,\r\n      charStart,\r\n      charEnd,\r\n      \"highlight-delete\",\r\n      highlightText\r\n    );\r\n  }\r\n\r\n  if (!targetRange) {\r\n    targetRange = await findCommaRangeByOrdinal(context, paragraph, paragraphText, suggestion.meta?.op);\r\n    if (!targetRange) return false;\r\n  }\r\n\r\n  targetRange.font.highlightColor = HIGHLIGHT_DELETE;\r\n  context.trackedObjects.add(targetRange);\r\n  suggestion.highlightRange = targetRange;\r\n  addPendingSuggestionOnline(suggestion);\r\n  return true;\r\n}\r\n\r\nasync function highlightInsertSuggestion(context, paragraph, suggestion) {\r\n  const corrected = suggestion.meta?.correctedText ?? paragraph.text ?? \"\";\r\n  const anchor = suggestion.meta?.anchor || {};\r\n  const entry = anchorProvider.getAnchorsForParagraph(suggestion.paragraphIndex);\r\n  const rawLeft = suggestion.snippets?.leftSnippet ?? corrected.slice(0, suggestion.meta?.op?.pos ?? 0);\r\n  const rawRight = suggestion.snippets?.rightSnippet ?? corrected.slice(suggestion.meta?.op?.pos ?? 0);\r\n  const lastWord = extractLastWord(rawLeft || \"\");\r\n  let leftContext = (rawLeft || \"\").slice(-20).replace(/[\\r\\n]+/g, \" \");\r\n  const searchOpts = { matchCase: false, matchWholeWord: false };\r\n  let range = null;\r\n\r\n  const resolveAnchorEnd = (candidate) => {\r\n    if (!Number.isFinite(candidate?.charStart) || candidate.charStart < 0) return null;\r\n    if (Number.isFinite(candidate?.charEnd) && candidate.charEnd > candidate.charStart) {\r\n      return candidate.charEnd;\r\n    }\r\n    if (typeof candidate?.tokenText === \"string\" && candidate.tokenText.length > 0) {\r\n      return candidate.charStart + candidate.tokenText.length;\r\n    }\r\n    return candidate.charStart + 1;\r\n  };\r\n\r\n  const highlightAnchorCandidate = [\r\n    anchor.highlightAnchorTarget,\r\n    anchor.sourceTokenAt,\r\n    anchor.targetTokenAt,\r\n    anchor.sourceTokenBefore,\r\n    anchor.targetTokenBefore,\r\n  ].find((candidate) => Number.isFinite(candidate?.charStart) && candidate.charStart >= 0);\r\n\r\n  if (highlightAnchorCandidate) {\r\n    const anchorEnd = resolveAnchorEnd(highlightAnchorCandidate);\r\n    range = await getRangeForAnchorSpan(\r\n      context,\r\n      paragraph,\r\n      entry,\r\n      highlightAnchorCandidate.charStart,\r\n      anchorEnd,\r\n      \"highlight-insert-anchor\",\r\n      highlightAnchorCandidate.tokenText || anchor.highlightText\r\n    );\r\n  }\r\n\r\n  if (!range && Number.isFinite(anchor.highlightCharStart) && anchor.highlightCharStart >= 0) {\r\n    const metaEndCandidate = {\r\n      charStart: anchor.highlightCharStart,\r\n      charEnd: anchor.highlightCharEnd,\r\n      tokenText:\r\n        anchor.highlightAnchorTarget?.tokenText ||\r\n        anchor.sourceTokenAt?.tokenText ||\r\n        anchor.targetTokenAt?.tokenText ||\r\n        anchor.highlightText,\r\n    };\r\n    const metaEnd = resolveAnchorEnd(metaEndCandidate);\r\n    range = await getRangeForAnchorSpan(\r\n      context,\r\n      paragraph,\r\n      entry,\r\n      anchor.highlightCharStart,\r\n      metaEnd,\r\n      \"highlight-insert-meta\",\r\n      anchor.highlightText\r\n    );\r\n  }\r\n\r\n  if (!range && lastWord) {\r\n    const wordSearch = paragraph.getRange().search(lastWord, {\r\n      matchCase: false,\r\n      matchWholeWord: true,\r\n    });\r\n    wordSearch.load(\"items\");\r\n    await context.sync();\r\n    if (wordSearch.items.length) {\r\n      range = wordSearch.items[wordSearch.items.length - 1];\r\n    }\r\n  }\r\n\r\n  if (!range && leftContext && leftContext.trim()) {\r\n    const leftSearch = paragraph.getRange().search(leftContext.trim(), searchOpts);\r\n    leftSearch.load(\"items\");\r\n    await context.sync();\r\n    if (leftSearch.items.length) {\r\n      range = leftSearch.items[leftSearch.items.length - 1];\r\n    }\r\n  }\r\n\r\n  if (!range) {\r\n    let rightSnippet = (rawRight || \"\").replace(/,/g, \"\").trim();\r\n    rightSnippet = rightSnippet.slice(0, 8);\r\n    if (rightSnippet) {\r\n      const rightSearch = paragraph.getRange().search(rightSnippet, searchOpts);\r\n      rightSearch.load(\"items\");\r\n      await context.sync();\r\n      if (rightSearch.items.length) {\r\n        range = rightSearch.items[0];\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!range) return false;\r\n\r\n  try {\r\n    range = range.getRange(\"Content\");\r\n  } catch (err) {\r\n    warn(\"highlight insert: failed to focus range\", err);\r\n  }\r\n\r\n  range.font.highlightColor = HIGHLIGHT_INSERT;\r\n  context.trackedObjects.add(range);\r\n  suggestion.highlightRange = range;\r\n  addPendingSuggestionOnline(suggestion);\r\n  return true;\r\n}\r\n\r\nasync function findCommaRangeByOrdinal(context, paragraph, original, op) {\r\n  const ordinal = countCommasUpTo(original, op.pos);\r\n  if (ordinal <= 0) {\r\n    warn(\"highlight delete: no comma ordinal\", op);\r\n    return null;\r\n  }\r\n  const commaSearch = paragraph.getRange().search(\",\", { matchCase: false, matchWholeWord: false });\r\n  commaSearch.load(\"items\");\r\n  await context.sync();\r\n  if (!commaSearch.items.length || ordinal > commaSearch.items.length) {\r\n    warn(\"highlight delete: comma search out of range\");\r\n    return null;\r\n  }\r\n  return commaSearch.items[ordinal - 1];\r\n}\r\n\r\nfunction extractLastWord(text) {\r\n  const match = text.match(/([\\p{L}\\d]+)[^\\p{L}\\d]*$/u);\r\n  return match ? match[1] : \"\";\r\n}\r\n\r\nasync function tryApplyDeleteUsingMetadata(context, paragraph, suggestion) {\r\n  const meta = suggestion?.meta?.anchor;\r\n  if (!meta) return false;\r\n  const entry = anchorProvider.getAnchorsForParagraph(suggestion.paragraphIndex);\r\n\r\n  const sourceAnchor =\r\n    meta.sourceTokenAt ?? meta.sourceTokenBefore ?? meta.sourceTokenAfter ?? meta.highlightAnchorTarget;\r\n  const charStart =\r\n    suggestion.charHint?.start ??\r\n    meta.charStart ??\r\n    sourceAnchor?.charStart ??\r\n    suggestion.meta?.op?.originalPos ??\r\n    -1;\r\n  const fallbackEndFromToken =\r\n    typeof sourceAnchor?.tokenText === \"string\" && sourceAnchor.tokenText.length > 0\r\n      ? charStart + sourceAnchor.tokenText.length\r\n      : charStart + 1;\r\n  const charEnd = suggestion.charHint?.end ?? meta.charEnd ?? fallbackEndFromToken;\r\n\r\n  if (Number.isFinite(charStart) && charStart >= 0) {\r\n    paragraph.load(\"text\");\r\n    await context.sync();\r\n    const liveText = paragraph.text || \"\";\r\n    const sourceText = entry?.originalText ?? liveText;\r\n    const mappedStart = mapIndexAcrossCanonical(sourceText, liveText, charStart);\r\n\r\n    let commaIndex = -1;\r\n    for (let delta = 0; delta <= 3; delta++) {\r\n      const left = mappedStart - delta;\r\n      const right = mappedStart + delta;\r\n      if (left >= 0 && liveText[left] === \",\") {\r\n        commaIndex = left;\r\n        break;\r\n      }\r\n      if (right < liveText.length && liveText[right] === \",\") {\r\n        commaIndex = right;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (commaIndex >= 0) {\r\n      const commaRange = await getRangeForAnchorSpan(\r\n        context,\r\n        paragraph,\r\n        entry,\r\n        commaIndex,\r\n        commaIndex + 1,\r\n        \"apply-delete-comma\",\r\n        \",\"\r\n      );\r\n      if (commaRange) {\r\n        commaRange.insertText(\"\", Word.InsertLocation.replace);\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nasync function tryApplyDeleteUsingHighlight(context, paragraph, suggestion) {\r\n  const entry = anchorProvider.getAnchorsForParagraph(suggestion?.paragraphIndex);\r\n  const tryByRange = async (range) => {\r\n    if (!range) return false;\r\n    try {\r\n      range.insertText(\"\", Word.InsertLocation.replace);\r\n      return true;\r\n    } catch (err) {\r\n      warn(\"apply delete: highlight span removal failed\", err);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const candidates = buildDeleteRangeCandidates(suggestion);\r\n  for (let i = 0; i < candidates.length; i++) {\r\n    const candidate = candidates[i];\r\n    if (!Number.isFinite(candidate.start) || candidate.start < 0) {\r\n      continue;\r\n    }\r\n    const safeEnd =\r\n      Number.isFinite(candidate.end) && candidate.end > candidate.start\r\n        ? candidate.end\r\n        : candidate.start + 1;\r\n    let span = null;\r\n    try {\r\n      span = await getRangeForAnchorSpan(\r\n        context,\r\n        paragraph,\r\n        entry,\r\n        candidate.start,\r\n        safeEnd,\r\n        `apply-delete-highlight-${i}`,\r\n        candidate.snippet\r\n      );\r\n    } catch (err) {\r\n      warn(\"apply delete: candidate span lookup failed\", err);\r\n      continue;\r\n    }\r\n    if (await tryByRange(span)) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nasync function applyDeleteSuggestionLegacy(context, paragraph, suggestion) {\r\n  const pos =\r\n    suggestion.meta?.op?.originalPos ??\r\n    suggestion.meta?.op?.pos ??\r\n    suggestion.charHint?.start ??\r\n    0;\r\n  const ordinal = countCommasUpTo(paragraph.text || \"\", pos);\r\n  if (ordinal <= 0) {\r\n    warn(\"apply delete: no ordinal\");\r\n    return false;\r\n  }\r\n  const commaSearch = paragraph.getRange().search(\",\", { matchCase: false, matchWholeWord: false });\r\n  commaSearch.load(\"items\");\r\n  await context.sync();\r\n  const idx = ordinal - 1;\r\n  if (!commaSearch.items.length || idx >= commaSearch.items.length) {\r\n    warn(\"apply delete: ordinal out of range\");\r\n    return false;\r\n  }\r\n  commaSearch.items[idx].insertText(\"\", Word.InsertLocation.replace);\r\n  return true;\r\n}\r\n\r\nasync function applyDeleteSuggestion(context, paragraph, suggestion) {\r\n  return await tryApplyDeleteUsingMetadata(context, paragraph, suggestion);\r\n}\r\n\r\nasync function findTokenRangeForAnchor(context, paragraph, anchorSnapshot) {\r\n  if (!anchorSnapshot?.tokenText) return null;\r\n  const fallbackOrdinal =\r\n    typeof anchorSnapshot.textOccurrence === \"number\"\r\n      ? anchorSnapshot.textOccurrence\r\n      : typeof anchorSnapshot.tokenIndex === \"number\"\r\n        ? anchorSnapshot.tokenIndex\r\n        : 0;\r\n  const tryFind = async (text, ordinalHint) => {\r\n    if (!text) return null;\r\n    const wholeWord = WORD_CHAR_REGEX.test(text) && !/[^\\p{L}\\d]/u.test(text);\r\n    const matches = paragraph.getRange().search(text, {\r\n      matchCase: false,\r\n      matchWholeWord: wholeWord,\r\n    });\r\n    matches.load(\"items\");\r\n    await context.sync();\r\n    if (!matches.items.length) return null;\r\n    const ordinal =\r\n      typeof ordinalHint === \"number\"\r\n        ? ordinalHint\r\n        : typeof anchorSnapshot.tokenIndex === \"number\"\r\n          ? anchorSnapshot.tokenIndex\r\n          : fallbackOrdinal;\r\n    const targetIndex = Math.max(0, Math.min(ordinal, matches.items.length - 1));\r\n    return matches.items[targetIndex];\r\n  };\r\n\r\n  let range = await tryFind(anchorSnapshot.tokenText, anchorSnapshot.textOccurrence);\r\n  if (range) return range;\r\n  const trimmed = anchorSnapshot.tokenText.trim();\r\n  if (trimmed && trimmed !== anchorSnapshot.tokenText) {\r\n    range = await tryFind(trimmed, anchorSnapshot.trimmedTextOccurrence);\r\n    if (range) return range;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction selectInsertAnchor(meta) {\r\n  if (!meta) return null;\r\n  const candidates = [\r\n    meta.sourceTokenAfter\r\n      ? { anchor: meta.sourceTokenAfter, location: Word.InsertLocation.before }\r\n      : null,\r\n    meta.sourceTokenAt ? { anchor: meta.sourceTokenAt, location: Word.InsertLocation.after } : null,\r\n    meta.sourceTokenBefore\r\n      ? { anchor: meta.sourceTokenBefore, location: Word.InsertLocation.after }\r\n      : null,\r\n    meta.targetTokenBefore\r\n      ? { anchor: meta.targetTokenBefore, location: Word.InsertLocation.before }\r\n      : null,\r\n    meta.targetTokenAt ? { anchor: meta.targetTokenAt, location: Word.InsertLocation.after } : null,\r\n  ].filter(Boolean);\r\n  for (const candidate of candidates) {\r\n    if (\r\n      candidate?.anchor?.matched &&\r\n      Number.isFinite(candidate.anchor.charStart) &&\r\n      candidate.anchor.charStart >= 0\r\n    ) {\r\n      return candidate;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nasync function tryApplyInsertUsingMetadata(context, paragraph, suggestion) {\r\n  const meta = suggestion?.meta?.anchor;\r\n  if (!meta) return false;\r\n  const entry = anchorProvider.getAnchorsForParagraph(suggestion.paragraphIndex);\r\n  const insertCommaAtChar = async (charIndex, traceLabel) => {\r\n    paragraph.load(\"text\");\r\n    await context.sync();\r\n    const text = paragraph.text || \"\";\r\n    if (!Number.isFinite(charIndex) || charIndex < 0 || charIndex > text.length) {\r\n      return false;\r\n    }\r\n\r\n    // Move insertion point to first non-space char to avoid creating \"word ,next\".\r\n    let insertionPos = charIndex;\r\n    while (insertionPos < text.length && /\\s/.test(text[insertionPos])) {\r\n      insertionPos++;\r\n    }\r\n    // Expand backwards over spaces so we can replace \"   \" with \", \".\r\n    let trimStart = insertionPos;\r\n    while (trimStart > 0 && /\\s/.test(text[trimStart - 1])) {\r\n      trimStart--;\r\n    }\r\n\r\n    const nextChar = insertionPos < text.length ? text[insertionPos] : \"\";\r\n    const prevChar = insertionPos > 0 ? text[insertionPos - 1] : \"\";\r\n    if (\r\n      insertionPos > 0 &&\r\n      insertionPos < text.length &&\r\n      WORD_CHAR_REGEX.test(prevChar) &&\r\n      WORD_CHAR_REGEX.test(nextChar)\r\n    ) {\r\n      warn(`${traceLabel}: refusing in-word comma insertion`, { insertionPos, prevChar, nextChar });\r\n      return false;\r\n    }\r\n    const withFollowingSpace = nextChar && !/\\s/.test(nextChar) && !QUOTES.has(nextChar) && !isDigit(nextChar);\r\n    const commaText = withFollowingSpace ? \", \" : \",\";\r\n\r\n    if (trimStart < insertionPos) {\r\n      const replaceWhitespaceRange = await getRangeForAnchorSpan(\r\n        context,\r\n        paragraph,\r\n        entry,\r\n        trimStart,\r\n        insertionPos,\r\n        `${traceLabel}-replace-whitespace`,\r\n        text.slice(trimStart, insertionPos)\r\n      );\r\n      if (!replaceWhitespaceRange) return false;\r\n      replaceWhitespaceRange.insertText(commaText, Word.InsertLocation.replace);\r\n      return true;\r\n    }\r\n\r\n    const insertRange = await getRangeForAnchorSpan(\r\n      context,\r\n      paragraph,\r\n      entry,\r\n      insertionPos,\r\n      Math.min(insertionPos + 1, text.length),\r\n      `${traceLabel}-insert`,\r\n      meta.highlightText\r\n    );\r\n    if (!insertRange) return false;\r\n    insertRange.insertText(commaText, Word.InsertLocation.before);\r\n    return true;\r\n  };\r\n\r\n  const findTokenStartByHint = (text, rawToken, hintIndex, occurrence) => {\r\n    const tokenRaw = typeof rawToken === \"string\" ? rawToken.trim() : \"\";\r\n    if (!tokenRaw || !text) return -1;\r\n    const token = tokenRaw.replace(/^[^\\p{L}\\d]+|[^\\p{L}\\d]+$/gu, \"\");\r\n    // Only use token-based placement for clean whole words; otherwise fallback to char mapping.\r\n    if (!token || /[^\\p{L}\\d]/u.test(token)) return -1;\r\n    const safeOccurrence = Number.isFinite(occurrence) ? Math.max(0, Math.floor(occurrence)) : 0;\r\n    const safeHint = Number.isFinite(hintIndex) ? Math.max(0, Math.floor(hintIndex)) : null;\r\n    const tokenRegex = new RegExp(\r\n      `(^|[^\\\\p{L}\\\\d])(${token.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\")})(?=$|[^\\\\p{L}\\\\d])`,\r\n      \"gu\"\r\n    );\r\n    const positions = [];\r\n    let match;\r\n    while ((match = tokenRegex.exec(text)) !== null) {\r\n      positions.push(match.index + match[1].length);\r\n    }\r\n    if (!positions.length) return -1;\r\n    if (safeHint !== null) {\r\n      let best = positions[0];\r\n      let bestDist = Math.abs(positions[0] - safeHint);\r\n      for (let i = 1; i < positions.length; i++) {\r\n        const dist = Math.abs(positions[i] - safeHint);\r\n        if (dist < bestDist) {\r\n          bestDist = dist;\r\n          best = positions[i];\r\n        }\r\n      }\r\n      return best;\r\n    }\r\n    return positions[Math.min(safeOccurrence, positions.length - 1)];\r\n  };\r\n\r\n  const cleanWordToken = (rawToken) => {\r\n    const tokenRaw = typeof rawToken === \"string\" ? rawToken.trim() : \"\";\r\n    const token = tokenRaw.replace(/^[^\\p{L}\\d]+|[^\\p{L}\\d]+$/gu, \"\");\r\n    if (!token || /[^\\p{L}\\d]/u.test(token)) return null;\r\n    return token;\r\n  };\r\n\r\n  const replaceGapBetweenAnchors = async (beforeAnchor, afterAnchor, traceLabel) => {\r\n    if (!beforeAnchor || !afterAnchor) return false;\r\n    paragraph.load(\"text\");\r\n    await context.sync();\r\n    const liveText = paragraph.text || \"\";\r\n    const originalText = entry?.originalText ?? \"\";\r\n    const beforeToken = cleanWordToken(beforeAnchor.tokenText);\r\n    const afterToken = cleanWordToken(afterAnchor.tokenText);\r\n    if (!beforeToken || !afterToken) return false;\r\n\r\n    const beforeHint = Number.isFinite(beforeAnchor.charEnd)\r\n      ? mapIndexAcrossCanonical(originalText, liveText, beforeAnchor.charEnd)\r\n      : null;\r\n    const afterHint = Number.isFinite(afterAnchor.charStart)\r\n      ? mapIndexAcrossCanonical(originalText, liveText, afterAnchor.charStart)\r\n      : null;\r\n\r\n    const beforeStart = findTokenStartByHint(liveText, beforeToken, beforeHint, beforeAnchor.textOccurrence);\r\n    const afterStart = findTokenStartByHint(liveText, afterToken, afterHint, afterAnchor.textOccurrence);\r\n    if (beforeStart < 0 || afterStart < 0) return false;\r\n\r\n    const beforeEnd = beforeStart + beforeToken.length;\r\n    if (beforeEnd > afterStart) return false;\r\n\r\n    const gapText = liveText.slice(beforeEnd, afterStart);\r\n    if (gapText.includes(\",\")) return true;\r\n    if (/[^\\s]/.test(gapText)) return false;\r\n\r\n    if (beforeEnd === afterStart) {\r\n      const insertRange = await getRangeForAnchorSpan(\r\n        context,\r\n        paragraph,\r\n        entry,\r\n        afterStart,\r\n        Math.min(afterStart + 1, liveText.length),\r\n        `${traceLabel}-insert-at-gap`,\r\n        afterToken\r\n      );\r\n      if (!insertRange) return false;\r\n      insertRange.insertText(\", \", Word.InsertLocation.before);\r\n      return true;\r\n    }\r\n\r\n    const gapRange = await getRangeForAnchorSpan(\r\n      context,\r\n      paragraph,\r\n      entry,\r\n      beforeEnd,\r\n      afterStart,\r\n      `${traceLabel}-replace-gap`,\r\n      gapText || \" \"\r\n    );\r\n    if (!gapRange) return false;\r\n    gapRange.insertText(\", \", Word.InsertLocation.replace);\r\n    return true;\r\n  };\r\n\r\n  const insertCommaAfterToken = async (tokenAnchor, traceLabel) => {\r\n    if (!tokenAnchor) return false;\r\n    paragraph.load(\"text\");\r\n    await context.sync();\r\n    const liveText = paragraph.text || \"\";\r\n    const tokenTextRaw = typeof tokenAnchor.tokenText === \"string\" ? tokenAnchor.tokenText : \"\";\r\n    const tokenText = tokenTextRaw.trim() || tokenTextRaw;\r\n    const tokenOrdinal =\r\n      typeof tokenAnchor.textOccurrence === \"number\"\r\n        ? tokenAnchor.textOccurrence\r\n        : typeof tokenAnchor.tokenIndex === \"number\"\r\n          ? tokenAnchor.tokenIndex\r\n          : 0;\r\n    const originalText = entry?.originalText ?? \"\";\r\n    const anchorEnd = Number.isFinite(tokenAnchor.charEnd)\r\n      ? tokenAnchor.charEnd\r\n      : typeof tokenAnchor.tokenText === \"string\"\r\n        ? tokenAnchor.charStart + tokenAnchor.tokenText.length\r\n        : tokenAnchor.charStart;\r\n    const hintIndex = mapIndexAcrossCanonical(originalText, liveText, anchorEnd);\r\n    if (tokenText) {\r\n      const tokenStart = findTokenStartByHint(liveText, tokenText, hintIndex, tokenOrdinal);\r\n      if (tokenStart > 0 && /\\s/.test(liveText[tokenStart - 1])) {\r\n        let wsStart = tokenStart - 1;\r\n        while (wsStart > 0 && /\\s/.test(liveText[wsStart - 1])) {\r\n          wsStart--;\r\n        }\r\n        const firstTokenChar = liveText[tokenStart] ?? \"\";\r\n        const commaText =\r\n          firstTokenChar && !/\\s/.test(firstTokenChar) && !QUOTES.has(firstTokenChar) && !isDigit(firstTokenChar)\r\n            ? \", \"\r\n            : \",\";\r\n        const beforeTokenWsRange = await getRangeForAnchorSpan(\r\n          context,\r\n          paragraph,\r\n          entry,\r\n          wsStart,\r\n          tokenStart,\r\n          `${traceLabel}-normalize-before-token`,\r\n          liveText.slice(wsStart, tokenStart)\r\n        );\r\n        if (beforeTokenWsRange) {\r\n          beforeTokenWsRange.insertText(commaText, Word.InsertLocation.replace);\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    const liveIndex = hintIndex;\r\n    if (Number.isFinite(liveIndex) && liveIndex >= 0) {\r\n      const insertedViaChar = await insertCommaAtChar(liveIndex, `${traceLabel}-mapped-char`);\r\n      if (insertedViaChar) return true;\r\n    }\r\n    const nextChar = liveText[liveIndex] ?? \"\";\r\n    if (nextChar && /\\s/.test(nextChar)) {\r\n      let wsEnd = liveIndex;\r\n      while (wsEnd < liveText.length && /\\s/.test(liveText[wsEnd])) {\r\n        wsEnd++;\r\n      }\r\n      const afterWsChar = liveText[wsEnd] ?? \"\";\r\n      const withSpace =\r\n        afterWsChar && !/\\s/.test(afterWsChar) && !QUOTES.has(afterWsChar) && !isDigit(afterWsChar);\r\n      const commaText = withSpace ? \", \" : \",\";\r\n      const replaceRange = await getRangeForAnchorSpan(\r\n        context,\r\n        paragraph,\r\n        entry,\r\n        liveIndex,\r\n        wsEnd,\r\n        `${traceLabel}-replace-ws`,\r\n        liveText.slice(liveIndex, wsEnd)\r\n      );\r\n      if (replaceRange) {\r\n        replaceRange.insertText(commaText, Word.InsertLocation.replace);\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const insertCommaBeforeToken = async (tokenAnchor, traceLabel) => {\r\n    if (!tokenAnchor) return false;\r\n    paragraph.load(\"text\");\r\n    await context.sync();\r\n    const liveText = paragraph.text || \"\";\r\n    const tokenTextRaw = typeof tokenAnchor.tokenText === \"string\" ? tokenAnchor.tokenText : \"\";\r\n    const tokenText = tokenTextRaw.trim() || tokenTextRaw;\r\n    const tokenOrdinal =\r\n      typeof tokenAnchor.textOccurrence === \"number\"\r\n        ? tokenAnchor.textOccurrence\r\n        : typeof tokenAnchor.tokenIndex === \"number\"\r\n          ? tokenAnchor.tokenIndex\r\n          : 0;\r\n    const originalText = entry?.originalText ?? \"\";\r\n    const anchorStart = Number.isFinite(tokenAnchor.charStart) ? tokenAnchor.charStart : -1;\r\n    const hintIndex =\r\n      anchorStart >= 0 ? mapIndexAcrossCanonical(originalText, liveText, anchorStart) : null;\r\n    if (tokenText) {\r\n      const tokenStart = findTokenStartByHint(liveText, tokenText, hintIndex, tokenOrdinal);\r\n      if (tokenStart > 0) {\r\n        let wsStart = tokenStart;\r\n        while (wsStart > 0 && /\\s/.test(liveText[wsStart - 1])) {\r\n          wsStart--;\r\n        }\r\n        if (wsStart < tokenStart) {\r\n          const firstTokenChar = liveText[tokenStart] ?? \"\";\r\n          const commaText =\r\n            firstTokenChar && !/\\s/.test(firstTokenChar) && !QUOTES.has(firstTokenChar) && !isDigit(firstTokenChar)\r\n              ? \", \"\r\n              : \",\";\r\n          const beforeTokenWsRange = await getRangeForAnchorSpan(\r\n            context,\r\n            paragraph,\r\n            entry,\r\n            wsStart,\r\n            tokenStart,\r\n            `${traceLabel}-normalize-before-token`,\r\n            liveText.slice(wsStart, tokenStart)\r\n          );\r\n          if (beforeTokenWsRange) {\r\n            beforeTokenWsRange.insertText(commaText, Word.InsertLocation.replace);\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (anchorStart >= 0) {\r\n      const liveIndex = hintIndex;\r\n      const insertedViaChar = await insertCommaAtChar(liveIndex, `${traceLabel}-mapped-char`);\r\n      if (insertedViaChar) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const anchor =\r\n    meta.highlightAnchorTarget ??\r\n    meta.sourceTokenAt ??\r\n    meta.targetTokenAt ??\r\n    meta.sourceTokenBefore ??\r\n    meta.targetTokenBefore;\r\n\r\n  const anchorStart = anchor?.charStart;\r\n  const anchorEnd =\r\n    Number.isFinite(anchor?.charEnd) && anchor.charEnd > anchor.charStart\r\n      ? anchor.charEnd\r\n      : typeof anchor?.tokenText === \"string\" && anchor.tokenText.length > 0\r\n        ? anchor.charStart + anchor.tokenText.length\r\n        : undefined;\r\n\r\n  if (Number.isFinite(anchorStart) && anchorStart >= 0) {\r\n    const range = await getRangeForAnchorSpan(\r\n      context,\r\n      paragraph,\r\n      entry,\r\n      anchorStart,\r\n      anchorEnd,\r\n      \"apply-insert-lemma-anchor\",\r\n      anchor?.tokenText || meta.highlightText\r\n    );\r\n    if (range) {\r\n      try {\r\n        const afterAnchor = meta.sourceTokenAfter ?? meta.targetTokenAfter;\r\n        const beforeAnchor = meta.sourceTokenBefore ?? meta.targetTokenBefore;\r\n        if (await replaceGapBetweenAnchors(beforeAnchor, afterAnchor, \"apply-insert-token-gap\")) return true;\r\n        if (await insertCommaBeforeToken(afterAnchor, \"apply-insert-lemma-after-token\")) return true;\r\n        if (await insertCommaAfterToken(beforeAnchor ?? anchor, \"apply-insert-lemma-anchor\")) return true;\r\n        const hasTokenAnchors = Boolean(beforeAnchor || afterAnchor || meta.sourceTokenAt || meta.targetTokenAt);\r\n        if (!hasTokenAnchors && Number.isFinite(anchorEnd) && anchorEnd >= 0) {\r\n          if (await insertCommaAtChar(anchorEnd, \"apply-insert-lemma-anchor\")) {\r\n            return true;\r\n          }\r\n        }\r\n      } catch (err) {\r\n        warn(\"apply insert metadata: failed to insert via lemma anchor\", err);\r\n      }\r\n    }\r\n  }\r\n\r\n  const insertionCharStart =\r\n    suggestion?.charHint?.start ?? (Number.isFinite(meta.targetCharStart) ? meta.targetCharStart : -1);\r\n  const hasTokenAnchors = Boolean(\r\n    meta.sourceTokenBefore || meta.sourceTokenAfter || meta.targetTokenBefore || meta.targetTokenAfter\r\n  );\r\n  if (hasTokenAnchors) {\r\n    // Avoid unsafe char fallback when token anchors exist but did not resolve cleanly.\r\n    return false;\r\n  }\r\n  if (!Number.isFinite(insertionCharStart) || insertionCharStart < 0) return false;\r\n  try {\r\n    return await insertCommaAtChar(insertionCharStart, \"apply-insert-target-char\");\r\n  } catch (err) {\r\n    warn(\"apply insert metadata: failed to insert via target char\", err);\r\n    return false;\r\n  }\r\n}\r\n\r\nasync function applyInsertSuggestion(context, paragraph, suggestion) {\r\n  return await tryApplyInsertUsingMetadata(context, paragraph, suggestion);\r\n}\r\n\r\nasync function normalizeCommaSpacingInParagraph(context, paragraph) {\r\n  paragraph.load(\"text\");\r\n  await context.sync();\r\n  const text = paragraph.text || \"\";\r\n  if (!text.includes(\",\")) return;\r\n\r\n  for (let idx = text.length - 1; idx >= 0; idx--) {\r\n    if (text[idx] !== \",\") continue;\r\n    if (idx > 0 && /\\s/.test(text[idx - 1])) {\r\n      const toTrim = await getRangeForCharacterSpan(\r\n        context,\r\n        paragraph,\r\n        text,\r\n        idx - 1,\r\n        idx,\r\n        \"trim-space-before-comma\",\r\n        \" \"\r\n      );\r\n      if (toTrim) {\r\n        toTrim.insertText(\"\", Word.InsertLocation.replace);\r\n      }\r\n    }\r\n\r\n    const nextChar = text[idx + 1] ?? \"\";\r\n    if (!nextChar) continue;\r\n    if (!/\\s/.test(nextChar) && !QUOTES.has(nextChar) && !isDigit(nextChar)) {\r\n      const afterRange = await getRangeForCharacterSpan(\r\n        context,\r\n        paragraph,\r\n        text,\r\n        idx + 1,\r\n        idx + 2,\r\n        \"space-after-comma\",\r\n        nextChar\r\n      );\r\n      if (afterRange) {\r\n        afterRange.insertText(\" \", Word.InsertLocation.before);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nasync function ensureCommaSpaceAfterInParagraph(context, paragraph) {\r\n  paragraph.load(\"text\");\r\n  await context.sync();\r\n  const text = paragraph.text || \"\";\r\n  if (!text.includes(\",\")) return;\r\n\r\n  const spacingPlan = [];\r\n  for (let idx = text.length - 1; idx >= 0; idx--) {\r\n    if (text[idx] !== \",\") continue;\r\n    const nextChar = text[idx + 1] ?? \"\";\r\n    if (!nextChar) continue;\r\n    if (/\\s/.test(nextChar) || QUOTES.has(nextChar) || isDigit(nextChar)) continue;\r\n    spacingPlan.push({\r\n      kind: \"insert\",\r\n      start: idx + 1,\r\n      end: idx + 2,\r\n      replacement: \" \",\r\n      snippet: nextChar,\r\n      suggestions: [],\r\n      sortPos: idx + 1,\r\n    });\r\n  }\r\n  if (!spacingPlan.length) return;\r\n\r\n  const ranges = await getRangesForPlannedOperations(\r\n    context,\r\n    paragraph,\r\n    text,\r\n    spacingPlan,\r\n    \"desktop-space-after-comma-only\"\r\n  );\r\n  for (let i = 0; i < spacingPlan.length; i++) {\r\n    const afterRange = ranges[i];\r\n    if (afterRange) {\r\n      afterRange.insertText(\" \", Word.InsertLocation.before);\r\n    }\r\n  }\r\n}\r\n\r\nasync function cleanupCommaSpacingForParagraphs(context, paragraphs, indexes, { force = false } = {}) {\r\n  if (anchorProviderSupportsCharHints && !force) {\r\n    log(\"Skipping comma spacing cleanup  lemmatizer anchors already normalized.\");\r\n    return;\r\n  }\r\n  if (!indexes?.size) return;\r\n  for (const idx of indexes) {\r\n    const paragraph = paragraphs.items[idx];\r\n    if (!paragraph) continue;\r\n    try {\r\n      await normalizeCommaSpacingInParagraph(context, paragraph);\r\n    } catch (err) {\r\n      warn(\"Failed to normalize comma spacing\", err);\r\n    }\r\n  }\r\n}\r\n\r\nasync function findRangeForInsert(context, paragraph, suggestion) {\r\n  const searchOpts = { matchCase: false, matchWholeWord: false };\r\n  let range = null;\r\n\r\n  const focusWord = suggestion.snippets?.focusWord;\r\n  if (focusWord) {\r\n    const wordSearch = paragraph.getRange().search(focusWord, {\r\n      matchCase: false,\r\n      matchWholeWord: true,\r\n    });\r\n    wordSearch.load(\"items\");\r\n    await context.sync();\r\n    if (wordSearch.items.length) {\r\n      range = wordSearch.items[wordSearch.items.length - 1];\r\n    }\r\n  }\r\n\r\n  let leftFrag = (suggestion.snippets?.leftSnippet || \"\").slice(-20).replace(/[\\r\\n]+/g, \" \");\r\n\r\n  if (!range && leftFrag.trim()) {\r\n    const leftSearch = paragraph.getRange().search(leftFrag.trim(), searchOpts);\r\n    leftSearch.load(\"items\");\r\n    await context.sync();\r\n    if (leftSearch.items.length) {\r\n      range = leftSearch.items[leftSearch.items.length - 1];\r\n    }\r\n  }\r\n\r\n  if (!range) {\r\n    let rightFrag = (suggestion.snippets?.rightSnippet || \"\").replace(/,/g, \"\").trim();\r\n    rightFrag = rightFrag.slice(0, 8);\r\n    if (rightFrag) {\r\n      const rightSearch = paragraph.getRange().search(rightFrag, searchOpts);\r\n      rightSearch.load(\"items\");\r\n      await context.sync();\r\n      if (rightSearch.items.length) {\r\n        range = rightSearch.items[0];\r\n      }\r\n    }\r\n  }\r\n\r\n  return range;\r\n}\r\n\r\nasync function clearHighlightForSuggestion(context, paragraph, suggestion) {\r\n  if (!suggestion) return;\r\n  if (suggestion.highlightRange) {\r\n    try {\r\n      suggestion.highlightRange.font.highlightColor = null;\r\n      context.trackedObjects.remove(suggestion.highlightRange);\r\n    } catch (err) {\r\n      warn(\"clearHighlightForSuggestion: failed via highlightRange\", err);\r\n    } finally {\r\n      suggestion.highlightRange = null;\r\n    }\r\n    return;\r\n  }\r\n  const entry = anchorProvider.getAnchorsForParagraph(suggestion.paragraphIndex);\r\n  const metaAnchor = suggestion.meta?.anchor;\r\n  if (!metaAnchor) return;\r\n  const charStart =\r\n    suggestion.charHint?.start ??\r\n    (typeof metaAnchor.highlightCharStart === \"number\"\r\n      ? metaAnchor.highlightCharStart\r\n      : metaAnchor.charStart);\r\n  const charEnd =\r\n    suggestion.charHint?.end ??\r\n    (typeof metaAnchor.highlightCharEnd === \"number\" ? metaAnchor.highlightCharEnd : metaAnchor.charEnd);\r\n  if (!paragraph || !Number.isFinite(charStart)) return;\r\n  const range = await getRangeForAnchorSpan(\r\n    context,\r\n    paragraph,\r\n    entry,\r\n    charStart,\r\n    charEnd,\r\n    \"clear-highlight\",\r\n    metaAnchor.highlightText || metaAnchor.highlightAnchorTarget?.tokenText\r\n  );\r\n  if (range) {\r\n    range.font.highlightColor = null;\r\n  }\r\n}\r\nasync function clearOnlineSuggestionMarkers(context, suggestionsOverride, paragraphs) {\r\n  const usingOverride = Array.isArray(suggestionsOverride);\r\n  const source = usingOverride ? suggestionsOverride : pendingSuggestionsOnline;\r\n  const clearHighlight = (sug) => {\r\n    if (!sug?.highlightRange) return;\r\n    try {\r\n      sug.highlightRange.font.highlightColor = null;\r\n      context.trackedObjects.remove(sug.highlightRange);\r\n    } catch (err) {\r\n      warn(\"Failed to clear highlight\", err);\r\n    } finally {\r\n      sug.highlightRange = null;\r\n    }\r\n  };\r\n\r\n  if (!source.length) {\r\n    if (!usingOverride) {\r\n      context.document.body.font.highlightColor = null;\r\n      await context.sync();\r\n    }\r\n    return;\r\n  }\r\n  for (const item of source) {\r\n    const suggestion = item?.suggestion ?? item;\r\n    if (!suggestion) continue;\r\n    const paragraph = item?.paragraph ?? paragraphs?.items?.[suggestion.paragraphIndex];\r\n    if (paragraph) {\r\n      await clearHighlightForSuggestion(context, paragraph, suggestion);\r\n    } else {\r\n      clearHighlight(suggestion);\r\n    }\r\n  }\r\n  await context.sync();\r\n  if (!suggestionsOverride) {\r\n    resetPendingSuggestionsOnline();\r\n  }\r\n}\r\n\r\nfunction getSuggestionSortPos(suggestion) {\r\n  return (\r\n    suggestion?.meta?.op?.originalPos ??\r\n    suggestion?.meta?.op?.correctedPos ??\r\n    suggestion?.meta?.op?.pos ??\r\n    suggestion?.charHint?.start ??\r\n    -1\r\n  );\r\n}\r\n\r\nfunction findWordTokenStartByHintInText(text, rawToken, hintIndex, occurrence) {\r\n  const tokenRaw = typeof rawToken === \"string\" ? rawToken.trim() : \"\";\r\n  if (!tokenRaw || !text) return -1;\r\n  const token = tokenRaw.replace(/^[^\\p{L}\\d]+|[^\\p{L}\\d]+$/gu, \"\");\r\n  if (!token || /[^\\p{L}\\d]/u.test(token)) return -1;\r\n  const safeOccurrence = Number.isFinite(occurrence) ? Math.max(0, Math.floor(occurrence)) : 0;\r\n  const safeHint = Number.isFinite(hintIndex) ? Math.max(0, Math.floor(hintIndex)) : null;\r\n  const tokenRegex = new RegExp(\r\n    `(^|[^\\\\p{L}\\\\d])(${token.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\")})(?=$|[^\\\\p{L}\\\\d])`,\r\n    \"gu\"\r\n  );\r\n  const positions = [];\r\n  let match;\r\n  while ((match = tokenRegex.exec(text)) !== null) {\r\n    positions.push(match.index + match[1].length);\r\n  }\r\n  if (!positions.length) return -1;\r\n\r\n  if (safeHint === null) {\r\n    return positions[Math.min(safeOccurrence, positions.length - 1)];\r\n  }\r\n\r\n  let best = positions[0];\r\n  let bestDist = Math.abs(positions[0] - safeHint);\r\n  for (let i = 1; i < positions.length; i++) {\r\n    const dist = Math.abs(positions[i] - safeHint);\r\n    if (dist < bestDist) {\r\n      best = positions[i];\r\n      bestDist = dist;\r\n    }\r\n  }\r\n  // Reject far matches; these are the main source of in-word corruption.\r\n  if (bestDist > 24) return -1;\r\n  return best;\r\n}\r\n\r\nfunction resolveInsertOperationFromSnapshot(snapshotText, sourceText, suggestion) {\r\n  const meta = suggestion?.meta?.anchor;\r\n  if (!meta) return null;\r\n\r\n  const beforeAnchor = meta.sourceTokenBefore ?? meta.targetTokenBefore;\r\n  const afterAnchor = meta.sourceTokenAfter ?? meta.targetTokenAfter;\r\n\r\n  const findStartForAnchor = (anchor, preferEnd = false) => {\r\n    if (!anchor?.tokenText) return { start: -1, token: null };\r\n    const token = (anchor.tokenText || \"\").trim().replace(/^[^\\p{L}\\d]+|[^\\p{L}\\d]+$/gu, \"\");\r\n    if (!token || /[^\\p{L}\\d]/u.test(token)) return { start: -1, token: null };\r\n    const sourceHint = preferEnd\r\n      ? (Number.isFinite(anchor.charEnd) ? anchor.charEnd : anchor.charStart + token.length)\r\n      : anchor.charStart;\r\n    const mappedHint = Number.isFinite(sourceHint)\r\n      ? mapIndexAcrossCanonical(sourceText, snapshotText, sourceHint)\r\n      : null;\r\n    const start = findWordTokenStartByHintInText(\r\n      snapshotText,\r\n      token,\r\n      mappedHint,\r\n      anchor.textOccurrence ?? anchor.tokenIndex ?? 0\r\n    );\r\n    return { start, token };\r\n  };\r\n\r\n  const isQuoteOrSpaceBoundary = (value) =>\r\n    typeof value === \"string\" && /^[\\s\"')\\]]+$/.test(value);\r\n  // In Word content, angled quotes can surface in either direction around boundaries.\r\n  // Treat both  and  as quote chars when normalizing insert positions.\r\n  const isClosingQuoteOrCloser = (char) => /[\"')\\]]/.test(char || \"\");\r\n  const isOpeningQuoteOrOpener = (char) => /[\"'(\\[]/.test(char || \"\");\r\n  const normalizeInsertPosForQuoteBoundary = (pos) => {\r\n    if (!Number.isFinite(pos) || pos < 0 || pos > snapshotText.length) return pos;\r\n    let left = pos - 1;\r\n    while (left >= 0 && /\\s/.test(snapshotText[left])) left--;\r\n    let right = pos;\r\n    while (right < snapshotText.length && /\\s/.test(snapshotText[right])) right++;\r\n    if (\r\n      left >= 0 &&\r\n      right < snapshotText.length &&\r\n      isClosingQuoteOrCloser(snapshotText[left]) &&\r\n      isOpeningQuoteOrOpener(snapshotText[right])\r\n    ) {\r\n      return left + 1;\r\n    }\r\n    // Also catch insert positions that land at the start of the next word:\r\n    // ...'<space>'Word  -> move comma after the closing quote.\r\n    if (left >= 0 && isOpeningQuoteOrOpener(snapshotText[left])) {\r\n      let prev = left - 1;\r\n      while (prev >= 0 && /\\s/.test(snapshotText[prev])) prev--;\r\n      if (prev >= 0 && isClosingQuoteOrCloser(snapshotText[prev])) {\r\n        return prev + 1;\r\n      }\r\n    }\r\n    return pos;\r\n  };\r\n\r\n  // Best path: replace exact whitespace gap between before/after anchors.\r\n  if (beforeAnchor && afterAnchor) {\r\n    const before = findStartForAnchor(beforeAnchor, true);\r\n    const after = findStartForAnchor(afterAnchor, false);\r\n    if (before.start >= 0 && after.start >= 0) {\r\n      const beforeEnd = before.start + before.token.length;\r\n      if (beforeEnd <= after.start) {\r\n        const gap = snapshotText.slice(beforeEnd, after.start);\r\n        // Only treat as already satisfied when the direct token gap is just comma+spaces.\r\n        if (/^\\s*,\\s*$/.test(gap)) {\r\n          return { kind: \"noop\" };\r\n        }\r\n        // Normal adjacency gap: whitespace-only.\r\n        if (!/[^\\s]/.test(gap)) {\r\n          return {\r\n            kind: \"insert\",\r\n            start: normalizeInsertPosForQuoteBoundary(beforeEnd),\r\n            end: normalizeInsertPosForQuoteBoundary(beforeEnd),\r\n            replacement: \",\",\r\n            snippet: gap || before.token,\r\n          };\r\n        }\r\n        // Quote boundary adjacency (e.g. \"'foo' 'bar'\"): insert after closing quote.\r\n        if (isQuoteOrSpaceBoundary(gap)) {\r\n          let insertPos = beforeEnd;\r\n          while (\r\n            insertPos < after.start &&\r\n            isClosingQuoteOrCloser(snapshotText[insertPos])\r\n          ) {\r\n            insertPos++;\r\n          }\r\n          const boundarySegment = snapshotText.slice(insertPos, after.start);\r\n          if (/,\\s*$/.test(boundarySegment) || /^\\s*,/.test(boundarySegment)) {\r\n            return { kind: \"noop\" };\r\n          }\r\n          return {\r\n            kind: \"insert\",\r\n            start: normalizeInsertPosForQuoteBoundary(insertPos),\r\n            end: normalizeInsertPosForQuoteBoundary(insertPos),\r\n            replacement: \",\",\r\n            snippet: gap || before.token,\r\n          };\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Secondary path: normalize whitespace right before \"after\" token.\r\n  if (afterAnchor) {\r\n    const after = findStartForAnchor(afterAnchor, false);\r\n    if (after.start > 0) {\r\n      let wsStart = after.start;\r\n      while (wsStart > 0 && /\\s/.test(snapshotText[wsStart - 1])) wsStart--;\r\n      if (wsStart < after.start) {\r\n        return {\r\n          kind: \"insert\",\r\n          start: normalizeInsertPosForQuoteBoundary(wsStart),\r\n          end: normalizeInsertPosForQuoteBoundary(wsStart),\r\n          replacement: \",\",\r\n          snippet: snapshotText.slice(wsStart, after.start),\r\n        };\r\n      }\r\n      const safePos = normalizeInsertPosForQuoteBoundary(after.start);\r\n      return {\r\n        kind: \"insert\",\r\n        start: safePos,\r\n        end: safePos,\r\n        replacement: \",\",\r\n        snippet: snapshotText.slice(Math.max(0, safePos - 1), Math.min(snapshotText.length, safePos + 1)),\r\n      };\r\n    }\r\n  }\r\n\r\n  // Secondary path: normalize whitespace right after \"before\" token.\r\n  if (beforeAnchor) {\r\n    const before = findStartForAnchor(beforeAnchor, true);\r\n    if (before.start >= 0) {\r\n      const beforeEnd = before.start + before.token.length;\r\n      let wsEnd = beforeEnd;\r\n      while (wsEnd < snapshotText.length && /\\s/.test(snapshotText[wsEnd])) wsEnd++;\r\n      if (wsEnd > beforeEnd) {\r\n        return {\r\n          kind: \"insert\",\r\n          start: normalizeInsertPosForQuoteBoundary(beforeEnd),\r\n          end: normalizeInsertPosForQuoteBoundary(beforeEnd),\r\n          replacement: \",\",\r\n          snippet: snapshotText.slice(beforeEnd, wsEnd),\r\n        };\r\n      }\r\n      const safePos = normalizeInsertPosForQuoteBoundary(beforeEnd);\r\n      return {\r\n        kind: \"insert\",\r\n        start: safePos,\r\n        end: safePos,\r\n        replacement: \",\",\r\n        snippet: snapshotText.slice(Math.max(0, safePos - 1), Math.min(snapshotText.length, safePos + 1)),\r\n      };\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nfunction resolveDeleteOperationFromSnapshot(snapshotText, sourceText, suggestion) {\r\n  const meta = suggestion?.meta?.anchor;\r\n  if (!meta) return null;\r\n  const sourceAnchor =\r\n    meta.sourceTokenAt ?? meta.sourceTokenBefore ?? meta.sourceTokenAfter ?? meta.highlightAnchorTarget;\r\n  const charStart =\r\n    suggestion?.charHint?.start ??\r\n    meta.charStart ??\r\n    sourceAnchor?.charStart ??\r\n    suggestion?.meta?.op?.originalPos ??\r\n    -1;\r\n  if (!Number.isFinite(charStart) || charStart < 0) return null;\r\n\r\n  const mappedStart = mapIndexAcrossCanonical(sourceText, snapshotText, charStart);\r\n  let commaIndex = -1;\r\n  for (let delta = 0; delta <= 3; delta++) {\r\n    const left = mappedStart - delta;\r\n    const right = mappedStart + delta;\r\n    if (left >= 0 && snapshotText[left] === \",\") {\r\n      commaIndex = left;\r\n      break;\r\n    }\r\n    if (right < snapshotText.length && snapshotText[right] === \",\") {\r\n      commaIndex = right;\r\n      break;\r\n    }\r\n  }\r\n  if (commaIndex < 0) return null;\r\n  return {\r\n    kind: \"delete\",\r\n    start: commaIndex,\r\n    end: commaIndex + 1,\r\n    replacement: \"\",\r\n    snippet: \",\",\r\n  };\r\n}\r\n\r\nfunction buildParagraphOperationsPlan(snapshotText, sourceText, suggestions) {\r\n  const rawPlan = [];\r\n  const skipped = [];\r\n  const noop = [];\r\n\r\n  for (const suggestion of suggestions) {\r\n    let op = null;\r\n    if (suggestion?.kind === \"delete\") {\r\n      op = resolveDeleteOperationFromSnapshot(snapshotText, sourceText, suggestion);\r\n    } else {\r\n      op = resolveInsertOperationFromSnapshot(snapshotText, sourceText, suggestion);\r\n    }\r\n\r\n    if (!op) {\r\n      skipped.push(suggestion);\r\n      continue;\r\n    }\r\n    if (op.kind === \"noop\") {\r\n      noop.push(suggestion);\r\n      continue;\r\n    }\r\n    rawPlan.push({\r\n      ...op,\r\n      suggestions: [suggestion],\r\n      sortPos: getSuggestionSortPos(suggestion),\r\n    });\r\n  }\r\n\r\n  rawPlan.sort((a, b) => {\r\n    if (a.start !== b.start) return b.start - a.start;\r\n    if (a.kind !== b.kind) return a.kind === \"delete\" ? -1 : 1;\r\n    return b.sortPos - a.sortPos;\r\n  });\r\n\r\n  const consumed = new Set();\r\n  const plan = [];\r\n  for (let i = 0; i < rawPlan.length; i++) {\r\n    if (consumed.has(i)) continue;\r\n    const current = rawPlan[i];\r\n\r\n    // Drop redundant inserts only when comma is already exactly at the insertion gap.\r\n    if (current.kind === \"insert\") {\r\n      const segment = snapshotText.slice(current.start, current.end);\r\n      if (segment === current.replacement) {\r\n        noop.push(...current.suggestions);\r\n        continue;\r\n      }\r\n      if (current.replacement.startsWith(\",\")) {\r\n        const segmentIsCommaGap = /^\\s*,\\s*$/.test(segment);\r\n        let left = current.start - 1;\r\n        while (left >= 0 && /\\s/.test(snapshotText[left])) left--;\r\n        let right = current.end;\r\n        while (right < snapshotText.length && /\\s/.test(snapshotText[right])) right++;\r\n        const leftChar = left >= 0 ? snapshotText[left] : \"\";\r\n        const rightChar = right < snapshotText.length ? snapshotText[right] : \"\";\r\n        const segmentHasOnlyWhitespace = !/[^\\s]/.test(segment);\r\n        if (segmentIsCommaGap || (segmentHasOnlyWhitespace && (leftChar === \",\" || rightChar === \",\"))) {\r\n          noop.push(...current.suggestions);\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Coalesce local delete+insert into a single replace to avoid visual \"double comma then delete\".\r\n    if (current.kind === \"delete\") {\r\n      const deletePos = current.start;\r\n      let merged = false;\r\n      for (let j = i + 1; j < rawPlan.length; j++) {\r\n        if (consumed.has(j)) continue;\r\n        const candidate = rawPlan[j];\r\n        if (candidate.kind !== \"insert\") continue;\r\n        if (Math.abs(candidate.start - deletePos) > 1) continue;\r\n        if (!candidate.replacement.startsWith(\",\")) continue;\r\n        const start = Math.min(current.start, candidate.start);\r\n        const end = Math.max(current.end, candidate.end);\r\n        const mergeSegment = snapshotText.slice(start, end);\r\n        // Do not coalesce across whitespace; replacing mixed spans can drop spaces in tracked mode.\r\n        if (/\\s/.test(mergeSegment)) continue;\r\n        plan.push({\r\n          kind: \"replace\",\r\n          start,\r\n          end,\r\n          replacement: \",\",\r\n          snippet: mergeSegment || \",\",\r\n          suggestions: [...current.suggestions, ...candidate.suggestions],\r\n          sortPos: Math.max(current.sortPos, candidate.sortPos),\r\n        });\r\n        consumed.add(j);\r\n        merged = true;\r\n        break;\r\n      }\r\n      if (merged) continue;\r\n    }\r\n\r\n    plan.push(current);\r\n  }\r\n\r\n  return { plan, skipped, noop };\r\n}\r\n\r\nexport async function applyAllSuggestionsOnline() {\r\n  if (!pendingSuggestionsOnline.length) {\r\n    const restored = restorePendingSuggestionsOnline();\r\n    if (restored > 0) {\r\n      log(`applyAllSuggestionsOnline: restored ${restored} pending suggestions from storage`);\r\n    }\r\n  }\r\n  if (!pendingSuggestionsOnline.length) {\r\n    warn(\"applyAllSuggestionsOnline: no pending suggestions\");\r\n    return;\r\n  }\r\n  const suggestionsByParagraph = new Map();\r\n  for (const sug of pendingSuggestionsOnline) {\r\n    if (typeof sug?.paragraphIndex !== \"number\" || sug.paragraphIndex < 0) continue;\r\n    if (!suggestionsByParagraph.has(sug.paragraphIndex)) {\r\n      suggestionsByParagraph.set(sug.paragraphIndex, []);\r\n    }\r\n    suggestionsByParagraph.get(sug.paragraphIndex).push(sug);\r\n  }\r\n  if (!suggestionsByParagraph.size) return;\r\n  await Word.run(async (context) => {\r\n    const paras = await wordOnlineAdapter.getParagraphs(context);\r\n    const touchedIndexes = new Set();\r\n    const processedSuggestions = [];\r\n    const failedSuggestions = [];\r\n\r\n    for (const [paragraphIndex, suggestions] of suggestionsByParagraph.entries()) {\r\n      const paragraph = paras.items[paragraphIndex];\r\n      if (!paragraph) {\r\n        failedSuggestions.push(...suggestions);\r\n        continue;\r\n      }\r\n      const entry = anchorProvider.getAnchorsForParagraph(paragraphIndex);\r\n      const snapshotText = paragraph.text || \"\";\r\n      const sourceText = entry?.originalText ?? snapshotText;\r\n      const { plan, skipped, noop } = buildParagraphOperationsPlan(snapshotText, sourceText, suggestions);\r\n      log(\"applyAll plan\", {\r\n        paragraphIndex,\r\n        total: suggestions.length,\r\n        planned: plan.length,\r\n        skipped: skipped.length,\r\n        noop: noop.length,\r\n      });\r\n      failedSuggestions.push(...skipped);\r\n      for (const suggestion of noop) {\r\n        processedSuggestions.push({ suggestion, paragraph });\r\n      }\r\n\r\n      let anyApplied = false;\r\n      let appliedCount = 0;\r\n      let applyFailedCount = 0;\r\n      const plannedRanges = await getRangesForPlannedOperations(\r\n        context,\r\n        paragraph,\r\n        snapshotText,\r\n        plan,\r\n        \"apply-all-batch\"\r\n      );\r\n      for (let opIndex = 0; opIndex < plan.length; opIndex++) {\r\n        const op = plan[opIndex];\r\n        const range = plannedRanges[opIndex];\r\n        if (!range) {\r\n          failedSuggestions.push(...op.suggestions);\r\n          applyFailedCount++;\r\n          continue;\r\n        }\r\n        try {\r\n          const insertLocation =\r\n            op.kind === \"insert\" ? Word.InsertLocation.before : Word.InsertLocation.replace;\r\n          range.insertText(op.replacement, insertLocation);\r\n          anyApplied = true;\r\n          for (const suggestion of op.suggestions) {\r\n            processedSuggestions.push({ suggestion, paragraph });\r\n          }\r\n          appliedCount++;\r\n        } catch (applyErr) {\r\n          warn(\"applyAllSuggestionsOnline: failed planned op\", applyErr);\r\n          failedSuggestions.push(...op.suggestions);\r\n          applyFailedCount++;\r\n        }\r\n      }\r\n      log(\"applyAll result\", { paragraphIndex, appliedCount, applyFailedCount });\r\n      if (anyApplied) {\r\n        touchedIndexes.add(paragraphIndex);\r\n      }\r\n    }\r\n    if (processedSuggestions.length) {\r\n      await wordOnlineAdapter.clearHighlights(context, processedSuggestions);\r\n    }\r\n    await cleanupCommaSpacingForParagraphs(context, paras, touchedIndexes, {\r\n      force: wordOnlineAdapter.shouldForceSpacingCleanup(),\r\n    });\r\n    for (const idx of touchedIndexes) {\r\n      anchorProvider.deleteAnchors(idx);\r\n    }\r\n    pendingSuggestionsOnline.length = 0;\r\n    if (failedSuggestions.length) {\r\n      pendingSuggestionsOnline.push(...failedSuggestions);\r\n      persistPendingSuggestionsOnline();\r\n    } else {\r\n      context.document.body.font.highlightColor = null;\r\n      persistPendingSuggestionsOnline();\r\n    }\r\n    await context.sync();\r\n  });\r\n}\r\n\r\nexport async function rejectAllSuggestionsOnline() {\r\n  await Word.run(async (context) => {\r\n    const paras = context.document.body.paragraphs;\r\n    paras.load(\"items/text\");\r\n    await context.sync();\r\n    await wordOnlineAdapter.clearHighlights(context, null, paras);\r\n    context.document.body.font.highlightColor = null;\r\n    await context.sync();\r\n  });\r\n}\r\n/** \r\n *  MAIN: Preveri vejice  celoten dokument, po odstavkih\r\n *   */\r\nexport async function checkDocumentText() {\r\n  resetNotificationFlags();\r\n  if (isWordOnline()) {\r\n    return checkDocumentTextOnline();\r\n  }\r\n  return checkDocumentTextDesktop();\r\n}\r\n\r\nasync function checkDocumentTextDesktop() {\r\n  log(\"START checkDocumentText()\");\r\n  let totalInserted = 0;\r\n  let totalDeleted = 0;\r\n  let paragraphsProcessed = 0;\r\n  let apiErrors = 0;\r\n  let nonCommaSkips = 0;\r\n\r\n  try {\r\n    await Word.run(async (context) => {\r\n      log(\"Desktop phase: tracked-change guard:start\");\r\n      if (await documentHasTrackedChanges(context)) {\r\n        notifyTrackedChangesPresent();\r\n        return;\r\n      }\r\n      log(\"Desktop phase: tracked-change guard:done\");\r\n\r\n      // On desktop we require the user to enable Track Changes manually.\r\n      const doc = context.document;\r\n      try {\r\n        log(\"Desktop phase: doc.load(trackRevisions) -> sync:start\");\r\n        doc.load(\"trackRevisions\");\r\n        await context.sync();\r\n        log(\"Desktop phase: doc.load(trackRevisions) -> sync:done\");\r\n        if (!doc.trackRevisions) {\r\n          notifyTrackChangesRequired();\r\n          return;\r\n        }\r\n      } catch (trackErr) {\r\n        warn(\"trackRevisions not available -> require manual enablement\", trackErr);\r\n        notifyTrackChangesRequired();\r\n        return;\r\n      }\r\n\r\n      log(\"Desktop phase: getParagraphs:start\");\r\n      const paras = await wordDesktopAdapter.getParagraphs(context);\r\n      log(\"Desktop phase: getParagraphs:done\");\r\n      log(\"Paragraphs found:\", paras.items.length);\r\n      anchorProvider.reset();\r\n      let documentCharOffset = 0;\r\n\r\n      for (let idx = 0; idx < paras.items.length; idx++) {\r\n        const paragraph = paras.items[idx];\r\n        const sourceText = paragraph.text || \"\";\r\n        const normalizedSource = normalizeParagraphWhitespace(sourceText);\r\n        const trimmed = normalizedSource.trim();\r\n        const paragraphDocOffset = documentCharOffset;\r\n        documentCharOffset += sourceText.length + 1;\r\n        if (!trimmed) {\r\n          await anchorProvider.getAnchors({\r\n            paragraphIndex: idx,\r\n            originalText: sourceText,\r\n            correctedText: sourceText,\r\n            sourceTokens: [],\r\n            targetTokens: [],\r\n            documentOffset: paragraphDocOffset,\r\n          });\r\n          continue;\r\n        }\r\n        if (trimmed.length > MAX_PARAGRAPH_CHARS) {\r\n          notifyParagraphTooLong(idx, trimmed.length);\r\n          continue;\r\n        }\r\n\r\n        const pStart = tnow();\r\n        paragraphsProcessed++;\r\n        log(`P${idx}: len=${sourceText.length} | \"${SNIP(trimmed)}\"`);\r\n\r\n        let result;\r\n        try {\r\n          result = await commaEngine.analyzeParagraph({\r\n            paragraphIndex: idx,\r\n            originalText: sourceText,\r\n            normalizedOriginalText: normalizedSource,\r\n            paragraphDocOffset,\r\n          });\r\n        } catch (err) {\r\n          apiErrors++;\r\n          warn(`P${idx}: engine failed`, err);\r\n          notifyApiUnavailable();\r\n          continue;\r\n        }\r\n        apiErrors += result.apiErrors;\r\n        nonCommaSkips += result.nonCommaSkips || 0;\r\n        const suggestions = result.suggestions || [];\r\n        if (!suggestions.length) continue;\r\n\r\n        const anchorsEntry = anchorProvider.getAnchorsForParagraph(idx);\r\n        const snapshotText = sourceText;\r\n        const sourceForPlan = anchorsEntry?.originalText ?? sourceText;\r\n        const { plan, skipped, noop } = buildParagraphOperationsPlan(\r\n          snapshotText,\r\n          sourceForPlan,\r\n          suggestions\r\n        );\r\n        log(\"Desktop apply plan\", {\r\n          paragraphIndex: idx,\r\n          total: suggestions.length,\r\n          planned: plan.length,\r\n          skipped: skipped.length,\r\n          noop: noop.length,\r\n        });\r\n\r\n        let appliedInParagraph = 0;\r\n        const plannedRanges = await getRangesForPlannedOperations(\r\n          context,\r\n          paragraph,\r\n          snapshotText,\r\n          plan,\r\n          \"desktop-batch\"\r\n        );\r\n        for (let opIndex = 0; opIndex < plan.length; opIndex++) {\r\n          const op = plan[opIndex];\r\n          const range = plannedRanges[opIndex];\r\n          if (!range) {\r\n            warn(\"Desktop batch op skipped: range not resolved\", {\r\n              paragraphIndex: idx,\r\n              opIndex,\r\n              kind: op?.kind,\r\n            });\r\n            continue;\r\n          }\r\n          try {\r\n            const insertLocation =\r\n              op.kind === \"insert\" ? Word.InsertLocation.before : Word.InsertLocation.replace;\r\n            range.insertText(op.replacement, insertLocation);\r\n            appliedInParagraph += op.suggestions?.length || 1;\r\n            for (const suggestion of op.suggestions || []) {\r\n              if (suggestion.kind === \"insert\") {\r\n                totalInserted++;\r\n              } else if (suggestion.kind === \"delete\") {\r\n                totalDeleted++;\r\n              }\r\n            }\r\n          } catch (err) {\r\n            warn(\"Desktop batch op failed\", err);\r\n          }\r\n        }\r\n        if (appliedInParagraph) {\r\n          if (anchorProviderSupportsCharHints) {\r\n            await ensureCommaSpaceAfterInParagraph(context, paragraph);\r\n            log(\"Desktop post-pass: ensured missing spaces after commas.\");\r\n          } else {\r\n            await normalizeCommaSpacingInParagraph(context, paragraph);\r\n          }\r\n          log(\r\n            `P${idx}: applied (ins=${totalInserted}, del=${totalDeleted}) | ${Math.round(\r\n              tnow() - pStart\r\n            )} ms`\r\n          );\r\n        }\r\n      }\r\n    });\r\n\r\n    log(\r\n      \"DONE checkDocumentText() | paragraphs:\",\r\n      paragraphsProcessed,\r\n      \"| inserted:\",\r\n      totalInserted,\r\n      \"| deleted:\",\r\n      totalDeleted,\r\n      \"| apiErrors:\",\r\n      apiErrors,\r\n      \"| nonCommaSkips:\",\r\n      nonCommaSkips\r\n    );\r\n    if (\r\n      paragraphsProcessed > 0 &&\r\n      totalInserted === 0 &&\r\n      totalDeleted === 0 &&\r\n      apiErrors === 0 &&\r\n      nonCommaSkips === 0\r\n    ) {\r\n      notifyNoIssuesFound();\r\n    }\r\n  } catch (e) {\r\n    errL(\"ERROR in checkDocumentText:\", e);\r\n  } finally {\r\n    flushScanNotifications();\r\n  }\r\n}\r\n\r\nasync function checkDocumentTextOnline() {\r\n  log(\"START checkDocumentTextOnline()\");\r\n  let paragraphsProcessed = 0;\r\n  let suggestions = 0;\r\n  let apiErrors = 0;\r\n  let nonCommaSkips = 0;\r\n\r\n  try {\r\n    await Word.run(async (context) => {\r\n      if (await documentHasTrackedChanges(context)) {\r\n        notifyTrackedChangesPresent();\r\n        return;\r\n      }\r\n      const paras = await wordOnlineAdapter.getParagraphs(context);\r\n      await wordOnlineAdapter.clearHighlights(context, null, paras);\r\n      resetPendingSuggestionsOnline();\r\n      anchorProvider.reset();\r\n\r\n      let documentCharOffset = 0;\r\n\r\n      for (let idx = 0; idx < paras.items.length; idx++) {\r\n        const p = paras.items[idx];\r\n        const original = p.text || \"\";\r\n        const normalizedOriginal = normalizeParagraphWhitespace(original);\r\n        const trimmed = normalizedOriginal.trim();\r\n        const paragraphDocOffset = documentCharOffset;\r\n        documentCharOffset += original.length + 1;\r\n        if (!trimmed) {\r\n          await anchorProvider.getAnchors({\r\n            paragraphIndex: idx,\r\n            originalText: original,\r\n            correctedText: original,\r\n            sourceTokens: [],\r\n            targetTokens: [],\r\n            documentOffset: paragraphDocOffset,\r\n          });\r\n          continue;\r\n        }\r\n\r\n        log(`P${idx} ONLINE: len=${original.length} | \"${SNIP(trimmed)}\"`);\r\n        paragraphsProcessed++;\r\n\r\n        const result = await commaEngine.analyzeParagraph({\r\n          paragraphIndex: idx,\r\n          originalText: original,\r\n          normalizedOriginalText: normalizedOriginal,\r\n          paragraphDocOffset,\r\n          conservativeSentenceFallback: true,\r\n        });\r\n        apiErrors += result.apiErrors;\r\n        nonCommaSkips += result.nonCommaSkips || 0;\r\n        if (!result.suggestions?.length) continue;\r\n        for (const suggestionObj of result.suggestions) {\r\n          const highlighted = await wordOnlineAdapter.highlightSuggestion(context, p, suggestionObj);\r\n          if (highlighted) {\r\n            suggestions++;\r\n          }\r\n        }\r\n      }\r\n\r\n      await context.sync();\r\n    });\r\n\r\n    log(\r\n      \"DONE checkDocumentTextOnline() | paragraphs:\",\r\n      paragraphsProcessed,\r\n      \"| suggestions:\",\r\n      suggestions,\r\n      \"| apiErrors:\",\r\n      apiErrors,\r\n      \"| nonCommaSkips:\",\r\n      nonCommaSkips\r\n    );\r\n    if (paragraphsProcessed > 0 && suggestions === 0 && apiErrors === 0 && nonCommaSkips === 0) {\r\n      notifyNoIssuesFound();\r\n    }\r\n  } catch (e) {\r\n    errL(\"ERROR in checkDocumentTextOnline:\", e);\r\n  } finally {\r\n    flushScanNotifications();\r\n  }\r\n}\r\n\r\n","__webpack_require__.h = function() { return \"596310be3f31dbf6c9e0\"; }"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","return","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_toPrimitive","_typeof","toPrimitive","String","Number","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","from","isArray","_arrayLikeToArray","_createForOfIteratorHelper","_n","F","s","next","toString","slice","constructor","name","test","popraviPoved","popraviPovedDetailed","isWordOnline","CommaSuggestionEngine","SyntheticAnchorProvider","LemmatizerAnchorProvider","WordOnlineAdapter","WordDesktopAdapter","OnlineTextBridge","DesktopTextBridge","normalizeParagraphWhitespace","normalizeParagraphForEquality","QUOTES","charAtSafe","isDigit","makeAnchor","normalizeTokenRepeatKey","envIsProd","_process$env","process","env","NODE_ENV","window","__VEJICE_ENV__","DEBUG_OVERRIDE","__VEJICE_DEBUG__","undefined","DEBUG","log","_console","_len","_key","console","concat","warn","_console2","_len2","_key2","errL","_console3","_len3","_key3","error","tnow","_performance$now","_performance","_performance$now2","performance","now","Date","SNIP","MAX_AUTOFIX_PASSES","Office","_Office","context","platform","HIGHLIGHT_INSERT","HIGHLIGHT_DELETE","TRAILING_COMMA_REGEX","WORD_CHAR_REGEX","MAX_NORMALIZATION_PROBES","pendingSuggestionsOnline","PENDING_SUGGESTIONS_STORAGE_KEY","MAX_PARAGRAPH_CHARS","LONG_PARAGRAPH_MESSAGE","LONG_SENTENCE_MESSAGE","CHUNK_API_ERROR_MESSAGE","PARAGRAPH_NON_COMMA_MESSAGE","TRACKED_CHANGES_PRESENT_MESSAGE","TRACK_CHANGES_REQUIRED_MESSAGE","API_UNAVAILABLE_MESSAGE","NO_ISSUES_FOUND_MESSAGE","longSentenceNotified","chunkApiFailureNotified","pendingScanNotifications","BOOLEAN_TRUE","Set","BOOLEAN_FALSE","parseBooleanFlag","normalized","trim","toLowerCase","has","shouldUseLemmatizerAnchors","__VEJICE_LEMMAS_URL","__VEJICE_LEMMAS_TIMEOUT_MS","override","__VEJICE_USE_LEMMATIZER__","_parseBooleanFlag","_process$env2","_process$env3","_process$env4","_process$env5","envValue","VEJICE_USE_LEMMATIZER","VEJICE_LEMMATIZER_ANCHORS","VEJICE_LEMMAS_URL","VEJICE_LEMMAS_TIMEOUT_MS","createAnchorProvider","resetPendingSuggestionsOnline","persistPendingSuggestionsOnline","addPendingSuggestionOnline","suggestion","getPendingSuggestionsOnline","debugSnapshot","map","sug","id","kind","paragraphIndex","meta","originalPos","snippets","toSerializableSuggestion","serializable","charHint","storage","localStorage","removeItem","payload","Boolean","setItem","JSON","stringify","storageErr","restorePendingSuggestionsOnline","raw","getItem","parsed","parse","_iterator","_step","item","err","__VEJICE_DEBUG_DUMPS__","__VEJICE_LAST_DEBUG_DUMP__","__VEJICE_DEBUG_DUMP_READY__","__VEJICE_DEBUG_STATE__","getParagraphAnchorsOnline","anchorProvider","paragraphAnchors","getVejiceDebugDump","getVejiceDebugDumps","getVejiceDebugStatus","ready","debug","dump","__VEJICE_DEBUG_DUMP__","state","dumps","hasLastDump","getPendingSuggestionsSnapshot","toastDialog","showToastNotification","message","_Office$context","ui","displayDialogAsync","origin","location","toastUrl","URL","searchParams","set","height","width","displayInIframe","asyncResult","status","AsyncResultStatus","Succeeded","close","closeDialog","addEventHandler","EventType","DialogMessageReceived","DialogEventReceived","queueScanNotification","flushScanNotifications","seen","uniqueMessages","_iterator2","_step2","add","join","notifyParagraphTooLong","label","msg","notifySentenceTooLong","notifyChunkApiFailure","chunkIndex","notifyChunkNonCommaChanges","original","corrected","anchorProviderSupportsCharHints","supportsCharHints","commaEngine","apiClient","notifiers","onParagraphTooLong","onSentenceTooLong","onChunkApiFailure","onChunkNonCommaChanges","getEngineDebugDump","lastDebugDump","getEngineDebugDumps","debugDumps","onlineTextBridge","applyInsertSuggestion","applyDeleteSuggestion","desktopTextBridge","normalizationProbeCount","getActiveTextBridge","getNormalizationProfile","wordOnlineAdapter","highlightSuggestion","highlightSuggestionOnline","textBridge","clearSuggestionMarkers","clearOnlineSuggestionMarkers","wordDesktopAdapter","trace","notifyParagraphNonCommaChanges","notifyTrackedChangesPresent","notifyTrackChangesRequired","apiFailureNotified","notifyApiUnavailable","notifyNoIssuesFound","resetNotificationFlags","documentHasTrackedChanges","_x","_documentHasTrackedChanges","_callee","revisions","_t","_context","document","load","sync","items","code","countSnippetOccurrencesBefore","text","snippet","limit","safeText","hop","Math","max","count","idx","indexOf","canonicalizeWithBoundaryMap","profile","source","canonical","boundary","fill","prevWasSpace","normalizeChar","ch","normalizeQuotes","includes","normalizeDashes","normalizeEllipsis","isSpace","collapseWhitespace","logNormalizationProbe","sourceText","targetText","sourceIndex","floor","left","right","min","targetLeft","targetRight","sourceSnippet","targetSnippet","mapIndexAcrossCanonical","_src$boundary$safeSrc","isFinite","src","dst","safeSrcIndex","srcCanonicalPos","srcPrefix","directPos","startsWith","estimatePos","round","findBestFallbackPos","leftCtx","rightCtx","candidates","bestPos","bestScore","POSITIVE_INFINITY","_i","_candidates","pos","dstRight","mismatch","overlap","abs","distance","score","targetCanonicalPos","low","high","_dst$boundary$mid","mid","getRangeForCharacterSpan","_x2","_x3","_x4","_x5","_x6","_getRangeForCharacterSpan","_callee2","paragraph","paragraphText","charStart","charEnd","reason","fallbackSnippet","safeStart","computedEnd","safeEnd","_matches","_matches2","liveText","searchSnippet","matches","mappedStart","occurrence","_args2","_t2","_context2","getRange","searchParagraphForSnippet","getRangeForAnchorSpan","_x7","_x8","_x9","_x0","_x1","_getRangeForAnchorSpan","_callee3","anchorsEntry","_i2","_candidates2","candidate","range","_args3","_context3","originalText","_x10","_x11","_x12","_searchParagraphForSnippet","_callee4","_context4","search","matchCase","matchWholeWord","ignoreSpace","ignorePunct","getRangesForPlannedOperations","_x13","_x14","_x15","_x16","_getRangesForPlannedOperations","_callee5","snapshotText","plan","searchOptions","requests","searchCache","perOpVariants","_args5","_context5","Map","op","opIndex","_op$start","_op$end","start","end","variants","trimmed","unique","_i3","_variants","variant","get","_iterator5","_step5","_variant$matches","fallback","buildDeleteSuggestionMetadata","entry","charIndex","_entry$documentOffset","_entry$originalText","_entry$paragraphIndex","sourceAround","findAnchorsNearChar","documentOffset","highlightText","documentCharStart","documentCharEnd","sourceTokenBefore","snapshotAnchor","before","sourceTokenAt","at","sourceTokenAfter","after","buildInsertSuggestionMetadata","_ref","_entry$documentOffset2","_ref2","_ref3","_ref4","_ref5","_sourceAround$at","_highlightAnchor$char","_highlightAnchor$char2","_entry$originalText2","_entry$paragraphIndex2","originalCharIndex","targetCharIndex","srcIndex","targetIndex","targetAround","highlightAnchor","highlightCharStart","highlightCharEnd","targetCharStart","targetCharEnd","targetDocumentCharStart","targetDocumentCharEnd","targetTokenBefore","targetTokenAt","targetTokenAfter","highlightAnchorTarget","buildDeleteRangeCandidates","_suggestion$meta","ranges","anchor","addRange","tokenText","buildInsertRangeCandidates","_suggestion$meta2","addAnchor","insertCommaAt","_x17","_x18","_x19","_x20","_x21","_insertCommaAt","_callee6","atCorrectedPos","_makeAnchor","pr","_m","_context6","insertText","Word","InsertLocation","ensureSpaceAfterComma","_x22","_x23","_x24","_x25","_ensureSpaceAfterComma","_callee7","_makeAnchor2","beforeRight","_m2","_context7","deleteCommaAt","_x26","_x27","_x28","_x29","_deleteCommaAt","_callee8","atOriginalPos","ordinal","_context8","replace","_x30","_x31","_x32","_highlightSuggestionOnline","_callee9","_context9","highlightDeleteSuggestion","highlightInsertSuggestion","countCommasUpTo","_x33","_x34","_x35","_highlightDeleteSuggestion","_callee0","_ref13","_suggestion$meta$orig","_suggestion$meta9","_suggestion$meta0","_ref14","_ref15","_suggestion$charHint$2","_suggestion$charHint3","_suggestion$meta1","_ref16","_suggestion$charHint$3","_suggestion$charHint4","_ref17","_meta$highlightText","_suggestion$meta10","targetRange","_suggestion$meta11","_context0","getAnchorsForParagraph","findCommaRangeByOrdinal","font","highlightColor","trackedObjects","highlightRange","_x36","_x37","_x38","_highlightInsertSuggestion","_callee1","_ref18","_suggestion$meta$corr","_suggestion$meta12","_suggestion$meta13","_suggestion$snippets$","_suggestion$snippets","_suggestion$meta$op$p","_suggestion$meta14","_suggestion$snippets$2","_suggestion$snippets2","_suggestion$meta$op$p2","_suggestion$meta15","rawLeft","rawRight","lastWord","leftContext","searchOpts","resolveAnchorEnd","highlightAnchorCandidate","anchorEnd","_anchor$highlightAnch","_anchor$sourceTokenAt","_anchor$targetTokenAt","metaEndCandidate","metaEnd","wordSearch","leftSearch","rightSnippet","rightSearch","_context1","correctedText","leftSnippet","extractLastWord","find","_x39","_x40","_x41","_x42","_findCommaRangeByOrdinal","_callee10","commaSearch","_context10","match","tryApplyDeleteUsingMetadata","_x43","_x44","_x45","_tryApplyDeleteUsingMetadata","_callee11","_suggestion$meta16","_ref19","_ref20","_meta$sourceTokenAt2","_ref21","_ref22","_ref23","_suggestion$charHint$4","_suggestion$charHint5","_suggestion$meta17","_ref24","_suggestion$charHint$5","_suggestion$charHint6","sourceAnchor","fallbackEndFromToken","_entry$originalText3","commaIndex","delta","commaRange","_context11","tryApplyDeleteUsingHighlight","_x46","_x47","_x48","_tryApplyDeleteUsingHighlight","_callee13","tryByRange","span","_t4","_context13","_ref25","_callee12","_t3","_context12","_x80","applyDeleteSuggestionLegacy","_x49","_x50","_x51","_applyDeleteSuggestionLegacy","_callee14","_ref26","_ref27","_suggestion$meta$op$o2","_suggestion$meta18","_suggestion$meta19","_suggestion$charHint7","_context14","_x52","_x53","_x54","_applyDeleteSuggestion","_callee15","_context15","findTokenRangeForAnchor","_x55","_x56","_x57","_findTokenRangeForAnchor","_callee17","anchorSnapshot","fallbackOrdinal","tryFind","_context17","textOccurrence","tokenIndex","_ref28","_callee16","ordinalHint","wholeWord","_context16","_x81","_x82","trimmedTextOccurrence","selectInsertAnchor","_iterator3","_step3","_candidate$anchor","matched","tryApplyInsertUsingMetadata","_x58","_x59","_x60","_tryApplyInsertUsingMetadata","_callee22","_suggestion$meta20","_ref33","_ref34","_ref35","_meta$highlightAnchor","_suggestion$charHint$6","_suggestion$charHint8","insertCommaAtChar","findTokenStartByHint","cleanWordToken","replaceGapBetweenAnchors","insertCommaAfterToken","insertCommaBeforeToken","anchorStart","_meta$sourceTokenAfte2","_meta$sourceTokenBefo2","afterAnchor","beforeAnchor","_hasTokenAnchors","insertionCharStart","hasTokenAnchors","_t5","_t6","_context22","_ref29","_callee18","traceLabel","insertionPos","trimStart","nextChar","prevChar","withFollowingSpace","commaText","replaceWhitespaceRange","insertRange","_context18","_x83","_x84","rawToken","hintIndex","tokenRaw","token","safeOccurrence","safeHint","tokenRegex","RegExp","positions","exec","index","best","bestDist","dist","_ref30","_callee19","_entry$originalText4","beforeToken","afterToken","beforeHint","afterHint","beforeStart","afterStart","beforeEnd","gapText","gapRange","_context19","_x85","_x86","_x87","_ref31","_callee20","tokenAnchor","_entry$originalText5","_liveText$liveIndex","tokenTextRaw","tokenOrdinal","tokenStart","_liveText$tokenStart","wsStart","firstTokenChar","beforeTokenWsRange","liveIndex","insertedViaChar","_liveText$wsEnd","wsEnd","afterWsChar","withSpace","_commaText","replaceRange","_context20","_x88","_x89","_ref32","_callee21","_entry$originalText6","_liveText$tokenStart2","_context21","_x90","_x91","_x61","_x62","_x63","_applyInsertSuggestion","_callee23","_context23","normalizeCommaSpacingInParagraph","_x64","_x65","_normalizeCommaSpacingInParagraph","_callee24","_text","toTrim","afterRange","_context24","ensureCommaSpaceAfterInParagraph","_x66","_x67","_ensureCommaSpaceAfterInParagraph","_callee25","spacingPlan","_text2","_context25","replacement","suggestions","sortPos","cleanupCommaSpacingForParagraphs","_x68","_x69","_x70","_cleanupCommaSpacingForParagraphs","_callee26","paragraphs","indexes","_ref36","_ref36$force","force","_iterator6","_step6","_args26","_t7","_t8","_context26","size","findRangeForInsert","_x71","_x72","_x73","_findRangeForInsert","_callee27","_suggestion$snippets3","_suggestion$snippets4","focusWord","leftFrag","_suggestion$snippets5","rightFrag","_context27","clearHighlightForSuggestion","_x74","_x75","_x76","_clearHighlightForSuggestion","_callee28","_suggestion$meta21","_suggestion$charHint$7","_suggestion$charHint9","_suggestion$charHint$8","_suggestion$charHint0","_metaAnchor$highlight","metaAnchor","_context28","remove","_x77","_x78","_x79","_clearOnlineSuggestionMarkers","_callee29","suggestionsOverride","usingOverride","clearHighlight","_iterator7","_step7","_item$suggestion","_item$paragraph","_paragraphs$items","_t9","_context29","body","getSuggestionSortPos","_ref6","_ref7","_ref8","_suggestion$meta$op$o","_suggestion$meta3","_suggestion$meta4","_suggestion$meta5","_suggestion$charHint","correctedPos","findWordTokenStartByHintInText","resolveInsertOperationFromSnapshot","_suggestion$meta6","_meta$sourceTokenBefo","_meta$sourceTokenAfte","findStartForAnchor","_ref9","_anchor$textOccurrenc","preferEnd","sourceHint","mappedHint","isQuoteOrSpaceBoundary","isClosingQuoteOrCloser","char","isOpeningQuoteOrOpener","normalizeInsertPosForQuoteBoundary","prev","gap","insertPos","boundarySegment","safePos","resolveDeleteOperationFromSnapshot","_suggestion$meta7","_ref0","_ref1","_meta$sourceTokenAt","_ref10","_ref11","_ref12","_suggestion$charHint$","_suggestion$charHint2","_suggestion$meta8","buildParagraphOperationsPlan","rawPlan","skipped","noop","_iterator4","_step4","sort","b","consumed","current","segment","segmentIsCommaGap","leftChar","rightChar","segmentHasOnlyWhitespace","deletePos","merged","j","mergeSegment","applyAllSuggestionsOnline","_applyAllSuggestionsOnline","_callee31","restored","suggestionsByParagraph","_iterator8","_step8","_t1","_context31","run","_ref37","_callee30","paras","touchedIndexes","processedSuggestions","failedSuggestions","_iterator9","_step9","_entry$originalText7","_step9$value","_buildParagraphOperat","_iterator1","_step1","_suggestion","anyApplied","appliedCount","applyFailedCount","plannedRanges","insertLocation","_iterator10","_step10","_iterator0","_step0","_t0","_context30","getParagraphs","entries","_slicedToArray","total","planned","applyErr","clearHighlights","shouldForceSpacingCleanup","deleteAnchors","_x92","rejectAllSuggestionsOnline","_rejectAllSuggestionsOnline","_callee33","_context33","_ref38","_callee32","_context32","_x93","checkDocumentText","_checkDocumentText","_callee34","_context34","checkDocumentTextOnline","checkDocumentTextDesktop","_checkDocumentTextDesktop","_callee36","totalInserted","totalDeleted","paragraphsProcessed","apiErrors","nonCommaSkips","_t12","_context36","_ref39","_callee35","doc","documentCharOffset","_anchorsEntry$origina","normalizedSource","paragraphDocOffset","pStart","result","sourceForPlan","_buildParagraphOperat2","appliedInParagraph","_op$suggestions","_iterator11","_step11","_t10","_t11","_context35","trackRevisions","reset","getAnchors","sourceTokens","targetTokens","analyzeParagraph","normalizedOriginalText","_x94","_checkDocumentTextOnline","_callee38","_t14","_context38","_ref40","_callee37","_result$suggestions","normalizedOriginal","_iterator12","_step12","suggestionObj","highlighted","_t13","_context37","conservativeSentenceFallback","_x95"],"sourceRoot":""}